<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="">2.01</ВерсияФормата>
	<Ид>bb6eeeeb-ae5b-4c07-b990-dd569685600a    </Ид>
	<Наименование>Альфа-Авто: Автозапчасти+Автосервис --&gt; БухгалтерияПредприятия</Наименование>
	<ДатаВремяСоздания>2019-05-30T09:40:35</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="7.7" ВерсияКонфигурации="Авто: запчасти+сервис. Ред.3.078" СинонимКонфигурации="Альфа-Авто: Автозапчасти+Автосервис">Альфа-Авто: Автозапчасти+Автосервис</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="3.0.70.33" СинонимКонфигурации="Бухгалтерия предприятия, редакция 3.0">БухгалтерияПредприятия</Приемник>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Группа>
				<Код>ПоступлениеТоваров</Код>
				<Наименование>ПоступлениеТоваров</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>ПоступлениеТоваровУслуг</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;0 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>9</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.ГТД.Страна;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>13</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеУслуг</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда 	
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Услуги Цикл
	Строка.СтавкаНДС 	 = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН = Перечисления.ОтражениеВУСН.Распределяются;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Услуги</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "Услуги";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПеремещениеФилиалов</Код>
					<Наименование>Документ: Перемещение между филиалами</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "Р0000001" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПеремещениеФилиал</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Поставщик --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Поставщик" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ДоговорФирмы --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорФирмы" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.ГТД.Страна;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>ПодразделениеКуда --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ПодразделениеКуда" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеДопРасходов</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;0 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 1 Тогда	
	Отказ = 1;
КонецЕсли;

//Если (Источник.ДокументОснование.Вид() &lt;&gt; "ПриходнаяНакладная") Тогда
Если (Источник.ДокументОснование.Вид() &lt;&gt; "ПеремещениеФилиал") Тогда  
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеДопРасходов.ЗаполнитьСчетаУчетаРасчетов(Объект);

Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;

//Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, Истина, Истина); 

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;
//Объект.СуммаНДС = УчетНДС.РассчитатьСуммуНДС(Объект.Сумма, Объект.СуммаВключаетНДС, УчетНДС.ПолучитьСтавкуНДС(Объект.СтавкаНДС));


//пСумма = 0;
Для Каждого Строка из Объект.Товары Цикл 	
	Строка.СчетУчета = ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
КонецЦикла;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеДопРасходов</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Комментарий --&gt; Содержание</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>17</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
ТабДокумента.Выгрузить(КоллекцияОбъектов);

КоллекцияОбъектов.УдалитьСтроки();

КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

ТабДокумента.ВыбратьСтроки();
Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
	Если ТабДокумента.Количество &gt; 0 Тогда
		
		КоллекцияОбъектов.НоваяСтрока();
		КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
		КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
		КоллекцияОбъектов.СуммаТовара         = ТабДокумента.Сумма;
				
	КонецЕсли;
КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Номенклатура;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Количество;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; ДокументПартии</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДокументПартии" Вид="Реквизит"/>
								<ПередВыгрузкой>Значение = Источник.ДокументОснование;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаТовара</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаТовара" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.Цена;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>--&gt; СуммаДокумента</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.Цена;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; СпособРаспределения</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособРаспределения" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРаспределенияДопРасходов"/>
							<ПередВыгрузкой>Значение = "ПоСумме";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеНаРеализацию</Код>
					<Наименование>Документ: Приходная накладная на реализацию</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если  Источник.Контрагент.Код = "Т0002289"  Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000038" Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000042" Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000004" Тогда
	Отказ = 0;  
Иначе	
	Отказ = 1;
КонецЕсли;

//Если Источник.Контрагент.Код &lt;&gt; "00000038" Тогда
//	Отказ = 1;
//КонецЕсли;

//Если Источник.Контрагент.Код &lt;&gt; "00000042" Тогда
//	Отказ = 1;
//КонецЕсли;



//	
//Если Источник.НаЗатраты&lt;&gt;0 Тогда   Или (Источник.Поставщик.Код&lt;&gt;"00000038" ) Или (Источник.Поставщик.Код&lt;&gt;"00000042") 
//	Отказ = 1;
//КонецЕсли;

//Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
//	Отказ = 1;
//КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНаРеализацию</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>13</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровПоставщику</Код>
					<Наименование>Документ: Возврат реализатора поставщику</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
//Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
//Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
//Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;
//Для Каждого Строка из Объект.Товары Цикл
//	Строка.Цена = Строка.Сумма/Строка.Цена;
//КонецЦикла;

//Объект.Записать(РежимЗаписиДокумента.Проведение);</ПослеЗагрузки>
					<Источник>ДокументСсылка.ВозвратРеализатораПоставщику</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровПоставщику</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>//Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>9</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>14</Код>
								<Наименование>Стоимость --&gt; Цена</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Стоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>15</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник.Контрагент;</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>18</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Стоимость --&gt; Сумма</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Стоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>23</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; НДСВключенВСтоимость</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НДСВключенВСтоимость" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровПоставщику"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>РеализацияТоваров</Код>
				<Наименование>РеализацияТоваров</Наименование>
				<Порядок>100</Порядок>
				<Правило>
					<Код>РеализацияТоваровУслуг</Код>
					<Наименование>Документ: Расходная накладная</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ОтменаПродажи &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;

//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.РасходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ПодразделениеФилиал --&gt; Склад</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ПодразделениеФилиал" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>21</Код>
							<Наименование>БезНДС --&gt; ДокументБезНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="БезНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровОтПокупателя</Код>
					<Наименование>Документ: Возврат покупателя</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ВозвратПокупателя</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>ПодразделениеФилиал --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ПодразделениеФилиал" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Розница_УСН</Код>
				<Наименование>Розница_УСН</Наименование>
				<Порядок>200</Порядок>
				<Правило>
					<Код>УСН_РозничнаяПродажаДо20170720</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

//Если Источник.ДатаДок &gt;= '20.07.2017' Тогда
//	Отказ = 1;
//КонецЕсли;


Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 1 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>500</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_ВозвратОтПокупателяДо20170720</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;

//Если Источник.ДатаДок &gt;= '20.07.2017' Тогда
//	Отказ = 1;
//КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 1 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>УСН_РозничнаяПродажаДо20170720                    </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_РозничныеПродажи</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_ВозвратОтПокупателя</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>17</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>УСН_РозничныеПродажи                              </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Розница_ЕНВД</Код>
				<Наименование>Розница_ЕНВД</Наименование>
				<Порядок>350</Порядок>
				<Правило>
					<Код>ЕНВД_Продажи_неткасс</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ДатаДок &gt;= '20.07.17' Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код &lt;&gt; "810" Тогда  
    Отказ = 0;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");

Объект.ДокументБезНДС = ИСТИНА; 

Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаОрганизации;
//Документы.ОтчетОРозничныхПродажах.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС 	= Перечисления.СтавкиНДС.БезНДС;
	Строка.СчетУчета 	= ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
	Строка.СчетДоходов  = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.01.2");
	Строка.СчетРасходов = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.02.2");
КонецЦикла; 

Объект.СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("000000018");
Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");
Объект.Ответственный = Пользователи.ТекущийПользователь();</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Курс --&gt; КурсДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
							<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<ПередВыгрузкой>Значение = "Розничная выручка";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>18</Код>
							<Наименование>--&gt; Оплата</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Если Источник.Касса.ТипКассы &lt;&gt; Перечисление.ТипКассы.Терминал Тогда
	Отказ = 1;
Иначе
	ТабДокумента = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.НоваяКолонка("СуммаОплаты", "Число");
	ТабДокумента.НоваяСтрока();
	ТабДокумента.СуммаОплаты = Источник.Сумма;
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СуммаОплаты</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = Источник.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕНВД_Продажи</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");

Объект.ДокументБезНДС = ИСТИНА; 

Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаОрганизации;
//Документы.ОтчетОРозничныхПродажах.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС 	= Перечисления.СтавкиНДС.БезНДС;
	Строка.СчетУчета 	= ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
	Строка.СчетДоходов  = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.01.2");
	Строка.СчетРасходов = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.02.2");
КонецЦикла; 

Объект.СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("000000018");
Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");
Объект.Ответственный = Пользователи.ТекущийПользователь();</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ДокументОснование.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Курс --&gt; КурсДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<ПередВыгрузкой>Значение = "Розничная выручка";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
							<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; Оплата</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Если Источник.Касса.ТипКассы &lt;&gt; Перечисление.ТипКассы.Терминал Тогда
	Отказ = 1;
Иначе
	ТабДокумента = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.НоваяКолонка("СуммаОплаты", "Число");
	ТабДокумента.НоваяСтрока();
	ТабДокумента.СуммаОплаты = Источник.Сумма;
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; СуммаОплаты</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = Источник.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КассовыйЧекРеализацияВалюта</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
//Объект.ДокументБезНДС = ИСТИНА;
//Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

//Для Каждого Строка из Объект.Товары Цикл
//	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Кассовые чеки реализованные за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "Товары";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ДокументБезНДС</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>14</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>15</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>СуммаПоСтроке --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СуммаПоСтроке" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КассовыйЧекВозвратВалюта</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда 
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

//Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Возврат по кассовым чекам реализованным за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>//Значение = Источник.ДокументОснование.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>
//ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
//Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
//ТабДокумента1.ВыбратьСтроки();

////Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

//Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
//	
//	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
//	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
//	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
//	ТабДокумента.Выгрузить(КоллекцияОбъектов);

//	КоллекцияОбъектов.УдалитьСтроки();

//	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

//	ТабДокумента.ВыбратьСтроки();
//	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
//		Если ТабДокумента.Количество &gt; 0 Тогда
//			
//			КоллекцияОбъектов.НоваяСтрока();
//			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
//			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
//			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
//			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
//					
//		КонецЕсли;
//	КонецЦикла;

//Иначе
//	
//	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
//	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
//	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
//	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

//	КоллекцияОбъектов.УдалитьСтроки();

//	КоллекцияОбъектов.НоваяКолонка("Сумма");

//	ТабДокумента2.ВыбратьСтроки();
//	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
//		Если ТабДокумента2.Количество &gt; 0 Тогда
//			
//			КоллекцияОбъектов.НоваяСтрока();
//			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
//			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
//			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
//			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
//					
//		КонецЕсли;
//	КонецЦикла;


//КонецЕсли;

////КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СуммаПоСтроке --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СуммаПоСтроке" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; ОтражениеВУСН</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
								<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>20</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значениие = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство Отключить="true">
							<Код>18</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ТоварныйЧекРеализацияВалюта</Код>
					<Наименование>Товарный чек=&gt;Реализация (для валют)</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

//Если Источник.ДатаДок &gt;= '20.07.17' Тогда
//	Отказ = 1;
//КонецЕсли;

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Товарные чеки реализованные за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>12</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "Товары";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение=1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>16</Код>
							<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>17</Код>
							<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Группа>
							<Код>18</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>19</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>24</Код>
								<Наименование>--&gt; СчетДоходов</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>25</Код>
								<Наименование>--&gt; СчетРасходов</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>26</Код>
								<Наименование>--&gt; СчетУчета</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; ДокументБезНДС</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Группа Отключить="true">
							<Код>29</Код>
							<Наименование>--&gt; Услуги</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ТоварныйЧекВозвратВалюта</Код>
					<Наименование>ТоварныйЧекВозвратВалюта</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

//Объект.КратностьВзаиморасчетов = 1;

//Для Каждого Строка из Объект.Товары Цикл
	//Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
//КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Возврат по товарным чекам реализованным за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>17</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; ОтражениеВУСН</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
								<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ПлатежныеДокументы</Код>
				<Наименование>ПлатежныеДокументы</Наименование>
				<Порядок>400</Порядок>
				<Правило>
					<Код>ПриходныйКассовыйОрдер</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>2</Код>
							<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = Источник.Комментарий+  "/***/#Документ создан на основании ""Кассового чека"" № " + Источник.НомерДок + " от " + Источник.ДатаДок;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Сумма --&gt; СуммаДокумента</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
							<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; СчетКасса</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>15</Код>
							<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
							<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");

КоллекцияОбъектов.НоваяКолонка("ДоговорКонтрагента");
КоллекцияОбъектов.НоваяКолонка("КратностьВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("КурсВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СпособПогашенияЗадолженности");
КоллекцияОбъектов.НоваяКолонка("СтавкаНДС");
КоллекцияОбъектов.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.НоваяКолонка("СуммаВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СуммаНДС");
КоллекцияОбъектов.НоваяКолонка("СуммаПлатежа");
КоллекцияОбъектов.НоваяКолонка("СчетНаОплату");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");  

КоллекцияОбъектов.НоваяСтрока();

КоллекцияОбъектов.ДоговорКонтрагента = Источник.Договор;
КоллекцияОбъектов.СтатьяДвиженияДенежныхСредств = "Оплата от покупателей";
КоллекцияОбъектов.СуммаПлатежа = Источник.Сумма;   
КоллекцияОбъектов.СтавкаНДС = "БезНДС";
КоллекцияОбъектов.КратностьВзаиморасчетов = 1;
КоллекцияОбъектов.КурсВзаиморасчетов      = 1;
КоллекцияОбъектов.СуммаВзаиморасчетов = Источник.Сумма;
КоллекцияОбъектов.СпособПогашенияЗадолженности = "Автоматически";


КоллекцияОбъектов.СчетУчетаРасчетовПоАвансам     = "62.02";
КоллекцияОбъектов.СчетУчетаРасчетовСКонтрагентом = "62.01";</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; ДоговорКонтрагента</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>18</Код>
								<Наименование>--&gt; ДоходыУСН</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоходыУСН" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>21</Код>
								<Наименование>--&gt; ПорядокОтраженияАванса</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПорядокОтраженияАванса" Вид="Реквизит"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>22</Код>
								<Наименование>--&gt; Сделка</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сделка" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; СуммаПлатежа</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; СчетНаОплату</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетНаОплату" Вид="Реквизит" Тип="ДокументСсылка.СчетНаОплатуПокупателю"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
								<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>31</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РасходныйКассовыйОрдер</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>2</Код>
							<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = Источник.Комментарий+  "/***/#Документ создан на основании ""Кассового чека"" № " + Источник.НомерДок + " от " + Источник.ДатаДок;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Сумма --&gt; СуммаДокумента</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
							<ПередВыгрузкой>Значение = "ВозвратПокупателю";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СчетКасса</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");

КоллекцияОбъектов.НоваяКолонка("ДоговорКонтрагента");
КоллекцияОбъектов.НоваяКолонка("КратностьВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("КурсВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СпособПогашенияЗадолженности");
КоллекцияОбъектов.НоваяКолонка("СтавкаНДС");
КоллекцияОбъектов.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.НоваяКолонка("СуммаВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СуммаНДС");
КоллекцияОбъектов.НоваяКолонка("СуммаПлатежа");
КоллекцияОбъектов.НоваяКолонка("СчетНаОплату");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");  

КоллекцияОбъектов.НоваяСтрока();

КоллекцияОбъектов.ДоговорКонтрагента = Источник.Договор;
КоллекцияОбъектов.СтатьяДвиженияДенежныхСредств = "Возврат покупателям";
КоллекцияОбъектов.СуммаПлатежа = Источник.Сумма;   
КоллекцияОбъектов.СтавкаНДС = "БезНДС";
КоллекцияОбъектов.КратностьВзаиморасчетов = 1;
КоллекцияОбъектов.КурсВзаиморасчетов      = 1;
КоллекцияОбъектов.СуммаВзаиморасчетов = Источник.Сумма;
КоллекцияОбъектов.СпособПогашенияЗадолженности = "Автоматически";


КоллекцияОбъектов.СчетУчетаРасчетовПоАвансам     = "62.02";
КоллекцияОбъектов.СчетУчетаРасчетовСКонтрагентом = "62.01";</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>19</Код>
								<Наименование>--&gt; РаспределятьРасходыУСН</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РаспределятьРасходыУСН" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>20</Код>
								<Наименование>--&gt; РасходыУСН</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасходыУСН" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; СуммаПлатежа</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; СчетНаОплату</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетНаОплату" Вид="Реквизит" Тип="ДокументСсылка.СчетНаОплатуПоставщика"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>--&gt; ДоговорКонтрагента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РКО_ТЧ</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>350</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
					<Свойства/>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>50</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ПослеЗагрузки>Если Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ПустаяСсылка() Тогда
	
	Если СтрДлина(Объект.ИНН) &lt; Число("11") Тогда
		Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ЮридическоеЛицо;
	Иначе
		Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ФизическоеЛицо;
	КонецЕсли;
	
КонецЕсли;

Если НЕ Объект.ЭтоГруппа Тогда
	Объект.ГоловнойКонтрагент = Объект.Ссылка;
КонецЕсли;

Если Объект.СтранаРегистрации = Справочники.СтраныМира.ПустаяСсылка() Тогда
	Объект.СтранаРегистрации = Справочники.СтраныМира.НайтиПоКоду("643");
КонецЕсли;</ПослеЗагрузки>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; ИНН</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 0 Тогда
	Если Найти(Источник.ИНН, "\") &lt;&gt; 0 Тогда
		Значение = Лев(Источник.ИНН, Найти(Источник.ИНН, "\") - 1);  
	ИначеЕсли Найти(Источник.ИНН, "/") &lt;&gt; 0 Тогда
		Значение = Лев(Источник.ИНН, Найти(Источник.ИНН, "/") - 1); 
	Иначе
		Значение = СокрЛП(Источник.ИНН); 		
	КонецЕсли;
Иначе
	Отказ = 1;  	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Справочник перенесен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; КПП</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 0 Тогда
	Если Найти(Источник.ИНН, "\") &lt;&gt; 0 Тогда
		Значение = Сред(Источник.ИНН, Найти(Источник.ИНН, "\") + 1);
	ИначеЕсли Найти(Источник.ИНН, "/") &lt;&gt; 0 Тогда
		Значение = Сред(Источник.ИНН, Найти(Источник.ИНН, "/") + 1);		
	Иначе
		Значение = ""; 		
	КонецЕсли;
Иначе
	Отказ = 1;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Пользователи</Код>
				<Наименование>Справочник: Пользователи</Наименование>
				<Порядок>100</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.Пользователи</Источник>
				<Приемник>СправочникСсылка.Пользователи</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>Справочник: Валюты</Наименование>
				<Порядок>150</Порядок>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.Валюты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.Код = "810" Тогда
	Значение = "643"
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Номенклатура</Код>
				<Наименование>Справочник: Номенклатура</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Номенклатура</Источник>
				<Приемник>СправочникСсылка.Номенклатура</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ВидНоменклатуры --&gt; ВидНоменклатуры</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
						<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
						<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Если ВРЕГ(Лев(Источник.Код, 5))&lt;&gt;ВРЕГ(Лев(Источник.Наименование, 5)) Тогда 
	Значение = Источник.Код+" "+Источник.Наименование;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Производитель --&gt; Производитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Производитель" Вид="Реквизит" Тип="СправочникСсылка.Производители"/>
						<Приемник Имя="Производитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>8</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>БазоваяЕдиница --&gt; ЕдиницаИзмерения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="БазоваяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.БазовыеЕдиницы"/>
						<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; ВидСтавкиНДС</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидСтавкиНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСтавокНДС"/>
						<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Код --&gt; Артикул</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Загружено из 1С 7.7:Альфа-Авто"</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>14</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; Услуга</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Услуга" Вид="Реквизит" Тип="Булево"/>
						<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ВидНоменклатуры.Код ="00000005" Тогда
	Значение = 1;
Иначе
	Значение = 0;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>16</Код>
						<Наименование>--&gt; ВидСтавкиНДС</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидСтавкиНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСтавокНДС"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыНоменклатуры</Код>
				<Наименование>Справочник: Виды номенклатуры</Наименование>
				<Порядок>250</Порядок>
				<Источник>СправочникСсылка.ВидыНоменклатуры</Источник>
				<Приемник>СправочникСсылка.ВидыНоменклатуры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = 0;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Справочник: Ставки НДС</Наименование>
				<Порядок>300</Порядок>
				<ПослеВыгрузки>	Если Источник.Ставка = 10 Тогда  
		
		УзелСсылки = "НДС10";
	 
	ИначеЕсли Источник.Ставка = 18 тогда
	 
	   	УзелСсылки = "НДС18";
	 
	Иначе 
		
		УзелСсылки = "БезНДС";
	 
	КонецЕсли;
	 
	Отказ = 1;</ПослеВыгрузки>
				<Источник>СправочникСсылка.СтавкиНДС</Источник>
				<Приемник>ПеречислениеСсылка.СтавкиНДС</Приемник>
				<Свойства/>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КлассификаторЕдиницИзмерения</Код>
				<Наименование>Справочник: Базовые единицы</Наименование>
				<Порядок>350</Порядок>
				<Источник>СправочникСсылка.БазовыеЕдиницы</Источник>
				<Приемник>СправочникСсылка.КлассификаторЕдиницИзмерения</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Склады</Код>
				<Наименование>Справочник: Подразделения</Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.Подразделения</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ТипСклада --&gt; ТипСклада</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<КодПравилаКонвертации>ТипыСкладов                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Отключить="true" Обязательное="true">
						<Код>6</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>Справочник: Договоры с контрагентами</Наименование>
				<Порядок>450</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидДоговора  = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
Если Объект.ВалютаВзаиморасчетов.Код = "810" Тогда
	 Объект.ВалютаВзаиморасчетов.Код = "643"
КонецЕсли;</ПослеЗагрузки>
				<Источник>СправочникСсылка.Договоры</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Валюта --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 1 Тогда
	Отказ = 1;	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>--&gt; ВидДоговора</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Банки</Код>
				<Наименование>Справочник: Банки</Наименование>
				<Порядок>500</Порядок>
				<Источник>СправочникСсылка.Банки</Источник>
				<Приемник>СправочникСсылка.Банки</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Телефоны --&gt; Телефоны</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>НомераГТД</Код>
				<Наименование>Справочник: Таможеннные декларации</Наименование>
				<Порядок>550</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.ГТД</Источник>
				<Приемник>СправочникСсылка.НомераГТД</Приемник>
				<Свойства>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ГТД"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НомераГТД"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Наименование --&gt; Код</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтраныМира</Код>
				<Наименование>Справочник: Страны</Наименование>
				<Порядок>600</Порядок>
				<Источник>СправочникСсылка.Страны</Источник>
				<Приемник>СправочникСсылка.СтраныМира</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПодразделенияОрганизаций</Код>
				<Наименование>Справочник: Подразделения</Наименование>
				<Порядок>650</Порядок>
				<Источник>СправочникСсылка.Подразделения</Источник>
				<Приемник>СправочникСсылка.ПодразделенияОрганизаций</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Фирма --&gt; ГоловнаяОрганизация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
						<Приемник Имя="ГоловнаяОрганизация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ТипыСкладов</Код>
				<Наименование>Перечисление: Типы складов</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ТипыСкладов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыСкладов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Оптовый --&gt; ОптовыйСклад</Наименование>
						<Порядок>50</Порядок>
						<Источник>Оптовый</Источник>
						<Приемник>ОптовыйСклад</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Розничный --&gt; РозничныйМагазин</Наименование>
						<Порядок>100</Порядок>
						<Источник>Розничный</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Цех --&gt; РозничныйМагазин</Наименование>
						<Порядок>150</Порядок>
						<Источник>Цех</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Правило>
			<Код>ПродажиЧастноеЛицо</Код>
			<Наименование>ПродажиЧастноеЛицо</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация  	  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации 		  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");   
Объект.ДокументБезНДС 	  = ИСТИНА;
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
Объект.Склад 		 	  = Справочники.Склады.НайтиПоКоду("W0000004");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка из Объект.Товары Цикл
	Строка.Цена = Строка.Сумма / Строка.Количество;
КонецЦикла;

//Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//Если Объект.Товары.Количество()&gt; 0 тогда
//	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//КонецЕсли;

//Для Каждого Строка из Объект.Товары Цикл
//	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
			<Свойства>
				<Свойство>
					<Код>1</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>50</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>4</Код>
					<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.02";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>300</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>350</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Коэффициент</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>18</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ВозвратТоваровЕНВД</Код>
			<Наименование>ВозвратТоваровЕНВД</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация   	  = Справочники.Организации.НайтиОрганизацию("3906137169"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Склад 		 	  = Справочники.Склады.НайтиПоКоду("W0000004");       
Объект.Ответственный  	  = Пользователи.ТекущийПользователь();
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Для Каждого Строка из Объект.Товары Цикл   
	
	Строка.Цена = Строка.Сумма / Строка.Количество;
	
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1
			|	ПоступлениеТоваровУслугТовары.Номенклатура КАК Номенклатура,
			|	ПоступлениеТоваровУслугТовары.Цена КАК Цена,
			|	КурсыВалют.Курс КАК Курс,
			|	ВЫБОР
			|		КОГДА КурсыВалют.Курс &gt; 1
			|			ТОГДА ПоступлениеТоваровУслугТовары.Цена * КурсыВалют.Курс
			|		ИНАЧЕ ПоступлениеТоваровУслугТовары.Цена
			|	КОНЕЦ КАК Себестоимость
			|ИЗ
			|	Документ.ПоступлениеТоваровУслуг.Товары КАК ПоступлениеТоваровУслугТовары
			|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют КАК КурсыВалют
			|		ПО (ПоступлениеТоваровУслугТовары.Ссылка.ВалютаДокумента = КурсыВалют.Валюта)
			|ГДЕ
			|	ПоступлениеТоваровУслугТовары.Номенклатура = &amp;Номенклатура1
			|	И ПоступлениеТоваровУслугТовары.Ссылка.Дата  &lt;= &amp;Период
			|	И КурсыВалют.Период = &amp;Период
			|
			|УПОРЯДОЧИТЬ ПО
			|	ПоступлениеТоваровУслугТовары.Ссылка УБЫВ
			|АВТОУПОРЯДОЧИВАНИЕ";
	Запрос.УстановитьПараметр("Номенклатура1", Строка.Номенклатура.Ссылка);
	Запрос.УстановитьПараметр("Период", Объект.Дата);
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		Строка.Себестоимость = Выборка.Себестоимость;
	КонецЕсли;

КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; Контрагент</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>3</Код>
					<Наименование>--&gt; Организация</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Склад</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>300</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>350</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение= "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>16</Код>
						<Наименование>--&gt; Цена</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; ОтражениеВУСН</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
						<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>--&gt; Себестоимость</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>19</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
					<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>20</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>500</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>21</Код>
					<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
					<Порядок>550</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.21";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>22</Код>
					<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.22";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>23</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>650</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ОтчетОРозничныхПродажах_Общий</Код>
			<Наименование>ОтчетОРозничныхПродажах_Общий</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация     = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента = Справочники.Валюты.НайтиПоКоду("643");
Объект.ТипЦен		   = Справочники.ТипыЦенНоменклатуры.НайтиПоНаименованию("Розничная цена");
//Объект.ВалютаДокумента = Справочники.Валюты.НайтиПоКоду("810");   
Объект.Склад           = Справочники.Склады.НайтиПоКоду("W0000004");       
Объект.Ответственный   = Пользователи.ТекущийПользователь();

Для Каждого Строка из Объект.Товары Цикл
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
	Строка.Цена = Строка.Сумма / Строка.Количество;
КонецЦикла;

Если Объект.Оплата.Количество()&gt;0 Тогда
	Для Каждого Стр из Объект.Оплата Цикл
		Стр.ВидОплаты   = Справочники.ВидыОплатОрганизаций.НайтиПоНаименованию("Эквайринг");
	КонецЦикла
КонецЕсли;

//Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

//Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
//	Объект.Склад = Справочники.Склады.НайтиПоНаименованию("Основной")
//КонецЕсли;


Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; ВалютаДокумента</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
					<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; ДокументБезНДС</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Организация</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>5</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>6</Код>
					<Наименование>--&gt; Склад</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>16</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>17</Код>
					<Наименование>--&gt; Ответственный</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>18</Код>
					<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
					<Порядок>500</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>550</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение= "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>15</Код>
						<Наименование>--&gt; Цена</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>//Значение = ВходящиеДанные.Получить("Сумма")/ВходящиеДанные.Получить("Количество");</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>19</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>20</Код>
					<Наименование>--&gt; Оплата</Наименование>
					<Порядок>650</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; СуммаОплаты</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>27</Код>
						<Наименование>--&gt; ВидОплаты</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатОрганизаций"/>
						<ПередВыгрузкой>Значение = "Эквайринг";</ПередВыгрузкой>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>22</Код>
					<Наименование>--&gt; КратностьДокумента</Наименование>
					<Порядок>700</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьДокумента" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>23</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>750</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
				</Свойство>
				<Свойство>
					<Код>24</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>800</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>28</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>850</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ПКО_Общий</Код>
			<Наименование>:</Наименование>
			<Порядок>450</Порядок>
			<ПослеЗагрузки>Объект.Организация 		  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка Из Объект.РасшифровкаПлатежа Цикл
	Строка.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
КонецЦикла;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; ВалютаДокумента</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
					<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>3</Код>
					<Наименование>--&gt; ДоговорКонтрагента</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
					<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Контрагент</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Контрагент" Вид="Реквизит"/>
					<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>250</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; СтавкаНДС</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; СуммаДокумента</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
				</Свойство>
				<Свойство>
					<Код>8</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>400</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>9</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>450</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>10</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>500</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>11</Код>
					<Наименование>--&gt; ПометкаУдаления</Наименование>
					<Порядок>550</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>12</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Группа>
					<Код>13</Код>
					<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
					<Порядок>650</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
					<Свойство Отключить="true">
						<Код>14</Код>
						<Наименование>--&gt; ДоговорКонтрагента</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
						<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>--&gt; СуммаПлатежа</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>25</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>700</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>РКО_Общий</Код>
			<Наименование>:</Наименование>
			<Порядок>450</Порядок>
			<ПослеЗагрузки>Объект.Организация 		  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка Из Объект.РасшифровкаПлатежа Цикл
	Строка.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
КонецЦикла;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
			<Свойства>
				<Свойство>
					<Код>1</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
					<ПередВыгрузкой>Значение = "ВозвратПокупателю";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>100</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>150</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство>
					<Код>4</Код>
					<Наименование>--&gt; СтавкаНДС</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СуммаДокумента</Наименование>
					<Порядок>250</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
						<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; СуммаПлатежа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
				</Группа>
			</Свойства>
			<Значения/>
		</Правило>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Группа Отключить="false">
				<Код>ПоступленияТоваровИУслуг</Код>
				<Наименование>ПоступленияТоваровИУслуг</Наименование>
				<Порядок>50</Порядок>
				<Правило Отключить="false">
					<Код>ПоступлениеУслуг</Код>
					<Наименование>ПоступлениеУслуг</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ПоступлениеУслуг                                  </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПоступлениеТоваров</Код>
					<Наименование>ПоступлениеТоваровУслуг</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПриходнаяНаРеализацию</Код>
					<Наименование>ПриходнаяНаРеализацию</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>ПоступлениеНаРеализацию                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНаРеализацию</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПеремещениеФилиал</Код>
					<Наименование>ПеремещениеФилиал</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>ПеремещениеФилиалов                               </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПеремещениеФилиал</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПоступлениеДопРасходов</Код>
					<Наименование>Поступление доп.расходов</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ПоступлениеДопРасходов                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратРеализатораПоставщику</Код>
					<Наименование>ВозвратРеализатораПоставщику</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровПоставщику                          </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ВозвратРеализатораПоставщику</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Реализация</Код>
				<Наименование>Реализация                                        </Наименование>
				<Порядок>100</Порядок>
				<Правило Отключить="false">
					<Код>РасходнаяНакладная</Код>
					<Наименование>РасходнаяНакладная</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>РеализацияТоваровУслуг                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.РасходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>УСН_Продажа</Код>
					<Наименование>УСН_Продажа</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>УСН_РозничныеПродажи                              </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>УСН_Возврат</Код>
					<Наименование>УСН_Возврат</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>УСН_ВозвратОтПокупателя                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратПокупателя</Код>
					<Наименование>ВозвратПокупателя</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровОтПокупателя                        </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ВозвратПокупателя</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ПлатежныеДокументы</Код>
				<Наименование>ПлатежныеДокументы</Наименование>
				<Порядок>150</Порядок>
				<Правило Отключить="false">
					<Код>ПриходныйКассовыйОрдер_Чеки</Код>
					<Наименование>ПриходныйКассовыйОрдер_Чеки</Наименование>
					<Порядок>750</Порядок>
					<КодПравилаКонвертации>ПриходныйКассовыйОрдер                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>РасходныйКассовыйОрдер_Чеки</Код>
					<Наименование>РасходныйКассовыйОрдер_Чеки</Наименование>
					<Порядок>800</Порядок>
					<КодПравилаКонвертации>РасходныйКассовыйОрдер                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Общие</Код>
				<Наименование>Общие</Наименование>
				<Порядок>200</Порядок>
				<Правило Отключить="false">
					<Код>ЗаказНарядыНаличныеРубли</Код>
					<Наименование>ЗаказНарядыНаличныеРубли</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "  
				|SELECT 
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,   
				|	OrderLine.SP4350 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP
				|
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'    
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура, 
				|	-OrderLine.SP4350 AS Количество,    
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -OrderLine.SP4354 
				|		ELSE -(OrderLine.SP4354*OrderZ.SP141)
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine 
				|INNER JOIN  
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE 
				|	Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND 
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' 
				|		AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Заказ-наряд =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ЗаказНарядыТерминалРубли</Код>
					<Наименование>ЗаказНарядыТерминалРубли</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	 ТекстЗапроса = "
				|SELECT 
				|	OrderZ.IDDoc AS  [Doc $Документ.ЗаказНаряд], 
				|	RIGHT(OrderLine.SP4349, 9) AS [Номенклатура $Справочник.Номенклатура],  
				|	OrderLine.SP4350 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма,
				|	OrderZ.SP5847 AS Возврат,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы  
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час'
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR LIKE '%Руб%' 
				|";
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#ЗаказНаряд =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратЗаказНарядыНаличныеРубли</Код>
					<Наименование>ВозвратЗаказНарядыНаличныеРубли</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable1");
	
	ТекстЗапроса = "  
				|SELECT 
				|	OrderZ.IDDoc AS Doc,
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,   
				|	OrderLine.SP4350 AS Количество, 				
				//|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP
				|
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				//|LEFT JOIN 
				//|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'    
				|
				|UNION 
				|
				|SELECT  
				|	OrderZ.IDDoc AS Doc,
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура, 
				|	-OrderLine.SP4350 AS Количество,    
				//|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -OrderLine.SP4354 
				|		ELSE -(OrderLine.SP4354*OrderZ.SP141)
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine 
				|INNER JOIN  
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				//|LEFT JOIN 
				//|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE 
				|	Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND 
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' 
				|		AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'
				|";
	
	//ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT  
				|	#TMP.Doc AS [Doc $Документ.ЗаказНаряд],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = #TMP.Doc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Заказ-наряд =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		    		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable1");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратЗаказНарядыТерминалРубли</Код>
					<Наименование>ВозвратЗаказНарядыТерминал</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"
			|SELECT 
			|	OrderZ.IDDoc AS Doc, 
			|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,  
			|	OrderLine.SP4350 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN OrderLine.SP4354
			|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
			|		END  Сумма,
			|	OrderZ.SP5847 AS Возврат,  
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы  
			|
			|INTO #TMP
			|
			|FROM 
			|	$ДокументСтроки.ЗаказНаряд AS OrderLine
			|INNER JOIN 
			|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
			|LEFT JOIN 
			|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
			|LEFT JOIN 
			|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час'
			|		AND  ProductName.DESCR NOT LIKE 'Масло моторное'
			|";  
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";

	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#ЗаказНаряд =&gt; Возврат покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КассовыеЧекиНаличныеРубли</Код>
					<Наименование>КассовыеЧекиНаличныеРубли</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
		
		пДатаНачала = п1ДатаОкончания;
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КассовыеЧекиТерминалРубли</Код>
					<Наименование>КассовыеЧекиТерминалРубли</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекстЗапроса = 	"SELECT   
				|	ProductCheck.IDDoc AS  [Doc $Документ.КассовыйЧек],
				|	RIGHT(ProductCheckLine.SP7232, 9) AS [Номенклатура $Справочник.Номенклатура],
				|	ProductCheckLine.SP7233 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма,
				|	ProductCheck.SP5358 AS Возврат, 
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы     	
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP7130 = 0 AND ProductCheck.SP5358 = 0 AND Cy.DESCR LIKE '%Руб%'						
				|";  
	
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратКассовыеЧекиНаличные</Код>
					<Наименование>ВозвратКассовыеЧекиНаличные</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
		ТекстЗапроса = "
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	RIGHT(ProductCheck.SP138, 9) AS Base,
				|	
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT 
				|	ProductCheck.IDDoc AS Doc,
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	RIGHT(ProductCheck.SP138, 9) AS Base,    
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);

	 ЗапросТемп = "
				|SELECT       
				|	#TMP.Base AS [Doc $Документ.ТоварныйЧек],
				|	#TMP.Doc AS [Doc $Документ.КассовыйЧек],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|
				|LEFT JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck_1 ON ProductCheck_1.IDDoc = #TMP.Base 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck_1.IDDoc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="">2.01</ВерсияФормата>
	<Ид>bb6eeeeb-ae5b-4c07-b990-dd569685600a    </Ид>
	<Наименование>Альфа-Авто: Автозапчасти+Автосервис --&gt; БухгалтерияПредприятия</Наименование>
	<ДатаВремяСоздания>2019-05-30T09:40:35</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="7.7" ВерсияКонфигурации="Авто: запчасти+сервис. Ред.3.078" СинонимКонфигурации="Альфа-Авто: Автозапчасти+Автосервис">Альфа-Авто: Автозапчасти+Автосервис</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="3.0.70.33" СинонимКонфигурации="Бухгалтерия предприятия, редакция 3.0">БухгалтерияПредприятия</Приемник>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Группа>
				<Код>ПоступлениеТоваров</Код>
				<Наименование>ПоступлениеТоваров</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>ПоступлениеТоваровУслуг</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;0 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>9</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.ГТД.Страна;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>13</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеУслуг</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда 	
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Услуги Цикл
	Строка.СтавкаНДС 	 = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН = Перечисления.ОтражениеВУСН.Распределяются;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Услуги</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "Услуги";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПеремещениеФилиалов</Код>
					<Наименование>Документ: Перемещение между филиалами</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "Р0000001" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПеремещениеФилиал</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Поставщик --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Поставщик" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ДоговорФирмы --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорФирмы" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.ГТД.Страна;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>ПодразделениеКуда --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ПодразделениеКуда" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеДопРасходов</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;0 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 1 Тогда	
	Отказ = 1;
КонецЕсли;

//Если (Источник.ДокументОснование.Вид() &lt;&gt; "ПриходнаяНакладная") Тогда
Если (Источник.ДокументОснование.Вид() &lt;&gt; "ПеремещениеФилиал") Тогда  
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеДопРасходов.ЗаполнитьСчетаУчетаРасчетов(Объект);

Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;

//Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, Истина, Истина); 

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;
//Объект.СуммаНДС = УчетНДС.РассчитатьСуммуНДС(Объект.Сумма, Объект.СуммаВключаетНДС, УчетНДС.ПолучитьСтавкуНДС(Объект.СтавкаНДС));


//пСумма = 0;
Для Каждого Строка из Объект.Товары Цикл 	
	Строка.СчетУчета = ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
КонецЦикла;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеДопРасходов</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Комментарий --&gt; Содержание</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>17</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
ТабДокумента.Выгрузить(КоллекцияОбъектов);

КоллекцияОбъектов.УдалитьСтроки();

КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

ТабДокумента.ВыбратьСтроки();
Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
	Если ТабДокумента.Количество &gt; 0 Тогда
		
		КоллекцияОбъектов.НоваяСтрока();
		КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
		КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
		КоллекцияОбъектов.СуммаТовара         = ТабДокумента.Сумма;
				
	КонецЕсли;
КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Номенклатура;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Количество;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; ДокументПартии</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДокументПартии" Вид="Реквизит"/>
								<ПередВыгрузкой>Значение = Источник.ДокументОснование;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаТовара</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаТовара" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.Цена;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>--&gt; СуммаДокумента</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.Цена;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; СпособРаспределения</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособРаспределения" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРаспределенияДопРасходов"/>
							<ПередВыгрузкой>Значение = "ПоСумме";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеНаРеализацию</Код>
					<Наименование>Документ: Приходная накладная на реализацию</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если  Источник.Контрагент.Код = "Т0002289"  Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000038" Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000042" Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000004" Тогда
	Отказ = 0;  
Иначе	
	Отказ = 1;
КонецЕсли;

//Если Источник.Контрагент.Код &lt;&gt; "00000038" Тогда
//	Отказ = 1;
//КонецЕсли;

//Если Источник.Контрагент.Код &lt;&gt; "00000042" Тогда
//	Отказ = 1;
//КонецЕсли;



//	
//Если Источник.НаЗатраты&lt;&gt;0 Тогда   Или (Источник.Поставщик.Код&lt;&gt;"00000038" ) Или (Источник.Поставщик.Код&lt;&gt;"00000042") 
//	Отказ = 1;
//КонецЕсли;

//Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
//	Отказ = 1;
//КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНаРеализацию</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>13</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровПоставщику</Код>
					<Наименование>Документ: Возврат реализатора поставщику</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
//Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
//Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
//Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;
//Для Каждого Строка из Объект.Товары Цикл
//	Строка.Цена = Строка.Сумма/Строка.Цена;
//КонецЦикла;

//Объект.Записать(РежимЗаписиДокумента.Проведение);</ПослеЗагрузки>
					<Источник>ДокументСсылка.ВозвратРеализатораПоставщику</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровПоставщику</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>//Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>9</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>14</Код>
								<Наименование>Стоимость --&gt; Цена</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Стоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>15</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник.Контрагент;</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>18</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Стоимость --&gt; Сумма</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Стоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>23</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; НДСВключенВСтоимость</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НДСВключенВСтоимость" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровПоставщику"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>РеализацияТоваров</Код>
				<Наименование>РеализацияТоваров</Наименование>
				<Порядок>100</Порядок>
				<Правило>
					<Код>РеализацияТоваровУслуг</Код>
					<Наименование>Документ: Расходная накладная</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ОтменаПродажи &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;

//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.РасходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ПодразделениеФилиал --&gt; Склад</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ПодразделениеФилиал" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>21</Код>
							<Наименование>БезНДС --&gt; ДокументБезНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="БезНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровОтПокупателя</Код>
					<Наименование>Документ: Возврат покупателя</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ВозвратПокупателя</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>ПодразделениеФилиал --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ПодразделениеФилиал" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Розница_УСН</Код>
				<Наименование>Розница_УСН</Наименование>
				<Порядок>200</Порядок>
				<Правило>
					<Код>УСН_РозничнаяПродажаДо20170720</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

//Если Источник.ДатаДок &gt;= '20.07.2017' Тогда
//	Отказ = 1;
//КонецЕсли;


Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 1 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>500</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_ВозвратОтПокупателяДо20170720</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;

//Если Источник.ДатаДок &gt;= '20.07.2017' Тогда
//	Отказ = 1;
//КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 1 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>УСН_РозничнаяПродажаДо20170720                    </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_РозничныеПродажи</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_ВозвратОтПокупателя</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>17</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>УСН_РозничныеПродажи                              </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Розница_ЕНВД</Код>
				<Наименование>Розница_ЕНВД</Наименование>
				<Порядок>350</Порядок>
				<Правило>
					<Код>ЕНВД_Продажи_неткасс</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ДатаДок &gt;= '20.07.17' Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код &lt;&gt; "810" Тогда  
    Отказ = 0;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");

Объект.ДокументБезНДС = ИСТИНА; 

Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаОрганизации;
//Документы.ОтчетОРозничныхПродажах.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС 	= Перечисления.СтавкиНДС.БезНДС;
	Строка.СчетУчета 	= ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
	Строка.СчетДоходов  = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.01.2");
	Строка.СчетРасходов = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.02.2");
КонецЦикла; 

Объект.СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("000000018");
Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");
Объект.Ответственный = Пользователи.ТекущийПользователь();</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Курс --&gt; КурсДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
							<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<ПередВыгрузкой>Значение = "Розничная выручка";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>18</Код>
							<Наименование>--&gt; Оплата</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Если Источник.Касса.ТипКассы &lt;&gt; Перечисление.ТипКассы.Терминал Тогда
	Отказ = 1;
Иначе
	ТабДокумента = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.НоваяКолонка("СуммаОплаты", "Число");
	ТабДокумента.НоваяСтрока();
	ТабДокумента.СуммаОплаты = Источник.Сумма;
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СуммаОплаты</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = Источник.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕНВД_Продажи</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");

Объект.ДокументБезНДС = ИСТИНА; 

Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаОрганизации;
//Документы.ОтчетОРозничныхПродажах.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС 	= Перечисления.СтавкиНДС.БезНДС;
	Строка.СчетУчета 	= ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
	Строка.СчетДоходов  = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.01.2");
	Строка.СчетРасходов = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.02.2");
КонецЦикла; 

Объект.СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("000000018");
Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");
Объект.Ответственный = Пользователи.ТекущийПользователь();</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ДокументОснование.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Курс --&gt; КурсДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<ПередВыгрузкой>Значение = "Розничная выручка";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
							<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; Оплата</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Если Источник.Касса.ТипКассы &lt;&gt; Перечисление.ТипКассы.Терминал Тогда
	Отказ = 1;
Иначе
	ТабДокумента = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.НоваяКолонка("СуммаОплаты", "Число");
	ТабДокумента.НоваяСтрока();
	ТабДокумента.СуммаОплаты = Источник.Сумма;
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; СуммаОплаты</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = Источник.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КассовыйЧекРеализацияВалюта</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
//Объект.ДокументБезНДС = ИСТИНА;
//Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

//Для Каждого Строка из Объект.Товары Цикл
//	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Кассовые чеки реализованные за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "Товары";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ДокументБезНДС</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>14</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>15</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>СуммаПоСтроке --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СуммаПоСтроке" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КассовыйЧекВозвратВалюта</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда 
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

//Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Возврат по кассовым чекам реализованным за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>//Значение = Источник.ДокументОснование.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>
//ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
//Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
//ТабДокумента1.ВыбратьСтроки();

////Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

//Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
//	
//	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
//	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
//	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
//	ТабДокумента.Выгрузить(КоллекцияОбъектов);

//	КоллекцияОбъектов.УдалитьСтроки();

//	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

//	ТабДокумента.ВыбратьСтроки();
//	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
//		Если ТабДокумента.Количество &gt; 0 Тогда
//			
//			КоллекцияОбъектов.НоваяСтрока();
//			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
//			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
//			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
//			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
//					
//		КонецЕсли;
//	КонецЦикла;

//Иначе
//	
//	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
//	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
//	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
//	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

//	КоллекцияОбъектов.УдалитьСтроки();

//	КоллекцияОбъектов.НоваяКолонка("Сумма");

//	ТабДокумента2.ВыбратьСтроки();
//	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
//		Если ТабДокумента2.Количество &gt; 0 Тогда
//			
//			КоллекцияОбъектов.НоваяСтрока();
//			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
//			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
//			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
//			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
//					
//		КонецЕсли;
//	КонецЦикла;


//КонецЕсли;

////КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СуммаПоСтроке --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СуммаПоСтроке" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; ОтражениеВУСН</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
								<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>20</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значениие = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство Отключить="true">
							<Код>18</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ТоварныйЧекРеализацияВалюта</Код>
					<Наименование>Товарный чек=&gt;Реализация (для валют)</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

//Если Источник.ДатаДок &gt;= '20.07.17' Тогда
//	Отказ = 1;
//КонецЕсли;

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Товарные чеки реализованные за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>12</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "Товары";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение=1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>16</Код>
							<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>17</Код>
							<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Группа>
							<Код>18</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>19</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>24</Код>
								<Наименование>--&gt; СчетДоходов</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>25</Код>
								<Наименование>--&gt; СчетРасходов</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>26</Код>
								<Наименование>--&gt; СчетУчета</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; ДокументБезНДС</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Группа Отключить="true">
							<Код>29</Код>
							<Наименование>--&gt; Услуги</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ТоварныйЧекВозвратВалюта</Код>
					<Наименование>ТоварныйЧекВозвратВалюта</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

//Объект.КратностьВзаиморасчетов = 1;

//Для Каждого Строка из Объект.Товары Цикл
	//Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
//КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Возврат по товарным чекам реализованным за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>17</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; ОтражениеВУСН</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
								<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ПлатежныеДокументы</Код>
				<Наименование>ПлатежныеДокументы</Наименование>
				<Порядок>400</Порядок>
				<Правило>
					<Код>ПриходныйКассовыйОрдер</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>2</Код>
							<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = Источник.Комментарий+  "/***/#Документ создан на основании ""Кассового чека"" № " + Источник.НомерДок + " от " + Источник.ДатаДок;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Сумма --&gt; СуммаДокумента</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
							<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; СчетКасса</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>15</Код>
							<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
							<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");

КоллекцияОбъектов.НоваяКолонка("ДоговорКонтрагента");
КоллекцияОбъектов.НоваяКолонка("КратностьВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("КурсВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СпособПогашенияЗадолженности");
КоллекцияОбъектов.НоваяКолонка("СтавкаНДС");
КоллекцияОбъектов.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.НоваяКолонка("СуммаВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СуммаНДС");
КоллекцияОбъектов.НоваяКолонка("СуммаПлатежа");
КоллекцияОбъектов.НоваяКолонка("СчетНаОплату");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");  

КоллекцияОбъектов.НоваяСтрока();

КоллекцияОбъектов.ДоговорКонтрагента = Источник.Договор;
КоллекцияОбъектов.СтатьяДвиженияДенежныхСредств = "Оплата от покупателей";
КоллекцияОбъектов.СуммаПлатежа = Источник.Сумма;   
КоллекцияОбъектов.СтавкаНДС = "БезНДС";
КоллекцияОбъектов.КратностьВзаиморасчетов = 1;
КоллекцияОбъектов.КурсВзаиморасчетов      = 1;
КоллекцияОбъектов.СуммаВзаиморасчетов = Источник.Сумма;
КоллекцияОбъектов.СпособПогашенияЗадолженности = "Автоматически";


КоллекцияОбъектов.СчетУчетаРасчетовПоАвансам     = "62.02";
КоллекцияОбъектов.СчетУчетаРасчетовСКонтрагентом = "62.01";</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; ДоговорКонтрагента</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>18</Код>
								<Наименование>--&gt; ДоходыУСН</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоходыУСН" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>21</Код>
								<Наименование>--&gt; ПорядокОтраженияАванса</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПорядокОтраженияАванса" Вид="Реквизит"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>22</Код>
								<Наименование>--&gt; Сделка</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сделка" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; СуммаПлатежа</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; СчетНаОплату</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетНаОплату" Вид="Реквизит" Тип="ДокументСсылка.СчетНаОплатуПокупателю"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
								<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>31</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РасходныйКассовыйОрдер</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>2</Код>
							<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = Источник.Комментарий+  "/***/#Документ создан на основании ""Кассового чека"" № " + Источник.НомерДок + " от " + Источник.ДатаДок;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Сумма --&gt; СуммаДокумента</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
							<ПередВыгрузкой>Значение = "ВозвратПокупателю";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СчетКасса</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");

КоллекцияОбъектов.НоваяКолонка("ДоговорКонтрагента");
КоллекцияОбъектов.НоваяКолонка("КратностьВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("КурсВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СпособПогашенияЗадолженности");
КоллекцияОбъектов.НоваяКолонка("СтавкаНДС");
КоллекцияОбъектов.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.НоваяКолонка("СуммаВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СуммаНДС");
КоллекцияОбъектов.НоваяКолонка("СуммаПлатежа");
КоллекцияОбъектов.НоваяКолонка("СчетНаОплату");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");  

КоллекцияОбъектов.НоваяСтрока();

КоллекцияОбъектов.ДоговорКонтрагента = Источник.Договор;
КоллекцияОбъектов.СтатьяДвиженияДенежныхСредств = "Возврат покупателям";
КоллекцияОбъектов.СуммаПлатежа = Источник.Сумма;   
КоллекцияОбъектов.СтавкаНДС = "БезНДС";
КоллекцияОбъектов.КратностьВзаиморасчетов = 1;
КоллекцияОбъектов.КурсВзаиморасчетов      = 1;
КоллекцияОбъектов.СуммаВзаиморасчетов = Источник.Сумма;
КоллекцияОбъектов.СпособПогашенияЗадолженности = "Автоматически";


КоллекцияОбъектов.СчетУчетаРасчетовПоАвансам     = "62.02";
КоллекцияОбъектов.СчетУчетаРасчетовСКонтрагентом = "62.01";</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>19</Код>
								<Наименование>--&gt; РаспределятьРасходыУСН</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РаспределятьРасходыУСН" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>20</Код>
								<Наименование>--&gt; РасходыУСН</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасходыУСН" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; СуммаПлатежа</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; СчетНаОплату</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетНаОплату" Вид="Реквизит" Тип="ДокументСсылка.СчетНаОплатуПоставщика"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>--&gt; ДоговорКонтрагента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РКО_ТЧ</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>350</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
					<Свойства/>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>50</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ПослеЗагрузки>Если Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ПустаяСсылка() Тогда
	
	Если СтрДлина(Объект.ИНН) &lt; Число("11") Тогда
		Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ЮридическоеЛицо;
	Иначе
		Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ФизическоеЛицо;
	КонецЕсли;
	
КонецЕсли;

Если НЕ Объект.ЭтоГруппа Тогда
	Объект.ГоловнойКонтрагент = Объект.Ссылка;
КонецЕсли;

Если Объект.СтранаРегистрации = Справочники.СтраныМира.ПустаяСсылка() Тогда
	Объект.СтранаРегистрации = Справочники.СтраныМира.НайтиПоКоду("643");
КонецЕсли;</ПослеЗагрузки>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; ИНН</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 0 Тогда
	Если Найти(Источник.ИНН, "\") &lt;&gt; 0 Тогда
		Значение = Лев(Источник.ИНН, Найти(Источник.ИНН, "\") - 1);  
	ИначеЕсли Найти(Источник.ИНН, "/") &lt;&gt; 0 Тогда
		Значение = Лев(Источник.ИНН, Найти(Источник.ИНН, "/") - 1); 
	Иначе
		Значение = СокрЛП(Источник.ИНН); 		
	КонецЕсли;
Иначе
	Отказ = 1;  	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Справочник перенесен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; КПП</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 0 Тогда
	Если Найти(Источник.ИНН, "\") &lt;&gt; 0 Тогда
		Значение = Сред(Источник.ИНН, Найти(Источник.ИНН, "\") + 1);
	ИначеЕсли Найти(Источник.ИНН, "/") &lt;&gt; 0 Тогда
		Значение = Сред(Источник.ИНН, Найти(Источник.ИНН, "/") + 1);		
	Иначе
		Значение = ""; 		
	КонецЕсли;
Иначе
	Отказ = 1;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Пользователи</Код>
				<Наименование>Справочник: Пользователи</Наименование>
				<Порядок>100</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.Пользователи</Источник>
				<Приемник>СправочникСсылка.Пользователи</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>Справочник: Валюты</Наименование>
				<Порядок>150</Порядок>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.Валюты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.Код = "810" Тогда
	Значение = "643"
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Номенклатура</Код>
				<Наименование>Справочник: Номенклатура</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Номенклатура</Источник>
				<Приемник>СправочникСсылка.Номенклатура</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ВидНоменклатуры --&gt; ВидНоменклатуры</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
						<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
						<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Если ВРЕГ(Лев(Источник.Код, 5))&lt;&gt;ВРЕГ(Лев(Источник.Наименование, 5)) Тогда 
	Значение = Источник.Код+" "+Источник.Наименование;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Производитель --&gt; Производитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Производитель" Вид="Реквизит" Тип="СправочникСсылка.Производители"/>
						<Приемник Имя="Производитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>8</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>БазоваяЕдиница --&gt; ЕдиницаИзмерения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="БазоваяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.БазовыеЕдиницы"/>
						<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; ВидСтавкиНДС</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидСтавкиНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСтавокНДС"/>
						<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Код --&gt; Артикул</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Загружено из 1С 7.7:Альфа-Авто"</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>14</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; Услуга</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Услуга" Вид="Реквизит" Тип="Булево"/>
						<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ВидНоменклатуры.Код ="00000005" Тогда
	Значение = 1;
Иначе
	Значение = 0;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>16</Код>
						<Наименование>--&gt; ВидСтавкиНДС</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидСтавкиНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСтавокНДС"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыНоменклатуры</Код>
				<Наименование>Справочник: Виды номенклатуры</Наименование>
				<Порядок>250</Порядок>
				<Источник>СправочникСсылка.ВидыНоменклатуры</Источник>
				<Приемник>СправочникСсылка.ВидыНоменклатуры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = 0;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Справочник: Ставки НДС</Наименование>
				<Порядок>300</Порядок>
				<ПослеВыгрузки>	Если Источник.Ставка = 10 Тогда  
		
		УзелСсылки = "НДС10";
	 
	ИначеЕсли Источник.Ставка = 18 тогда
	 
	   	УзелСсылки = "НДС18";
	 
	Иначе 
		
		УзелСсылки = "БезНДС";
	 
	КонецЕсли;
	 
	Отказ = 1;</ПослеВыгрузки>
				<Источник>СправочникСсылка.СтавкиНДС</Источник>
				<Приемник>ПеречислениеСсылка.СтавкиНДС</Приемник>
				<Свойства/>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КлассификаторЕдиницИзмерения</Код>
				<Наименование>Справочник: Базовые единицы</Наименование>
				<Порядок>350</Порядок>
				<Источник>СправочникСсылка.БазовыеЕдиницы</Источник>
				<Приемник>СправочникСсылка.КлассификаторЕдиницИзмерения</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Склады</Код>
				<Наименование>Справочник: Подразделения</Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.Подразделения</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ТипСклада --&gt; ТипСклада</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<КодПравилаКонвертации>ТипыСкладов                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Отключить="true" Обязательное="true">
						<Код>6</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>Справочник: Договоры с контрагентами</Наименование>
				<Порядок>450</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидДоговора  = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
Если Объект.ВалютаВзаиморасчетов.Код = "810" Тогда
	 Объект.ВалютаВзаиморасчетов.Код = "643"
КонецЕсли;</ПослеЗагрузки>
				<Источник>СправочникСсылка.Договоры</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Валюта --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 1 Тогда
	Отказ = 1;	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>--&gt; ВидДоговора</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Банки</Код>
				<Наименование>Справочник: Банки</Наименование>
				<Порядок>500</Порядок>
				<Источник>СправочникСсылка.Банки</Источник>
				<Приемник>СправочникСсылка.Банки</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Телефоны --&gt; Телефоны</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>НомераГТД</Код>
				<Наименование>Справочник: Таможеннные декларации</Наименование>
				<Порядок>550</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.ГТД</Источник>
				<Приемник>СправочникСсылка.НомераГТД</Приемник>
				<Свойства>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ГТД"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НомераГТД"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Наименование --&gt; Код</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтраныМира</Код>
				<Наименование>Справочник: Страны</Наименование>
				<Порядок>600</Порядок>
				<Источник>СправочникСсылка.Страны</Источник>
				<Приемник>СправочникСсылка.СтраныМира</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПодразделенияОрганизаций</Код>
				<Наименование>Справочник: Подразделения</Наименование>
				<Порядок>650</Порядок>
				<Источник>СправочникСсылка.Подразделения</Источник>
				<Приемник>СправочникСсылка.ПодразделенияОрганизаций</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Фирма --&gt; ГоловнаяОрганизация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
						<Приемник Имя="ГоловнаяОрганизация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ТипыСкладов</Код>
				<Наименование>Перечисление: Типы складов</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ТипыСкладов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыСкладов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Оптовый --&gt; ОптовыйСклад</Наименование>
						<Порядок>50</Порядок>
						<Источник>Оптовый</Источник>
						<Приемник>ОптовыйСклад</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Розничный --&gt; РозничныйМагазин</Наименование>
						<Порядок>100</Порядок>
						<Источник>Розничный</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Цех --&gt; РозничныйМагазин</Наименование>
						<Порядок>150</Порядок>
						<Источник>Цех</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Правило>
			<Код>ПродажиЧастноеЛицо</Код>
			<Наименование>ПродажиЧастноеЛицо</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация  	  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации 		  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");   
Объект.ДокументБезНДС 	  = ИСТИНА;
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
Объект.Склад 		 	  = Справочники.Склады.НайтиПоКоду("W0000004");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка из Объект.Товары Цикл
	Строка.Цена = Строка.Сумма / Строка.Количество;
КонецЦикла;

//Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//Если Объект.Товары.Количество()&gt; 0 тогда
//	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//КонецЕсли;

//Для Каждого Строка из Объект.Товары Цикл
//	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
			<Свойства>
				<Свойство>
					<Код>1</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>50</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>4</Код>
					<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.02";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>300</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>350</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Коэффициент</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>18</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ВозвратТоваровЕНВД</Код>
			<Наименование>ВозвратТоваровЕНВД</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация   	  = Справочники.Организации.НайтиОрганизацию("3906137169"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Склад 		 	  = Справочники.Склады.НайтиПоКоду("W0000004");       
Объект.Ответственный  	  = Пользователи.ТекущийПользователь();
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Для Каждого Строка из Объект.Товары Цикл   
	
	Строка.Цена = Строка.Сумма / Строка.Количество;
	
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1
			|	ПоступлениеТоваровУслугТовары.Номенклатура КАК Номенклатура,
			|	ПоступлениеТоваровУслугТовары.Цена КАК Цена,
			|	КурсыВалют.Курс КАК Курс,
			|	ВЫБОР
			|		КОГДА КурсыВалют.Курс &gt; 1
			|			ТОГДА ПоступлениеТоваровУслугТовары.Цена * КурсыВалют.Курс
			|		ИНАЧЕ ПоступлениеТоваровУслугТовары.Цена
			|	КОНЕЦ КАК Себестоимость
			|ИЗ
			|	Документ.ПоступлениеТоваровУслуг.Товары КАК ПоступлениеТоваровУслугТовары
			|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют КАК КурсыВалют
			|		ПО (ПоступлениеТоваровУслугТовары.Ссылка.ВалютаДокумента = КурсыВалют.Валюта)
			|ГДЕ
			|	ПоступлениеТоваровУслугТовары.Номенклатура = &amp;Номенклатура1
			|	И ПоступлениеТоваровУслугТовары.Ссылка.Дата  &lt;= &amp;Период
			|	И КурсыВалют.Период = &amp;Период
			|
			|УПОРЯДОЧИТЬ ПО
			|	ПоступлениеТоваровУслугТовары.Ссылка УБЫВ
			|АВТОУПОРЯДОЧИВАНИЕ";
	Запрос.УстановитьПараметр("Номенклатура1", Строка.Номенклатура.Ссылка);
	Запрос.УстановитьПараметр("Период", Объект.Дата);
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		Строка.Себестоимость = Выборка.Себестоимость;
	КонецЕсли;

КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; Контрагент</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>3</Код>
					<Наименование>--&gt; Организация</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Склад</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>300</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>350</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение= "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>16</Код>
						<Наименование>--&gt; Цена</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; ОтражениеВУСН</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
						<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>--&gt; Себестоимость</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>19</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
					<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>20</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>500</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>21</Код>
					<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
					<Порядок>550</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.21";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>22</Код>
					<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.22";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>23</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>650</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ОтчетОРозничныхПродажах_Общий</Код>
			<Наименование>ОтчетОРозничныхПродажах_Общий</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация     = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента = Справочники.Валюты.НайтиПоКоду("643");
Объект.ТипЦен		   = Справочники.ТипыЦенНоменклатуры.НайтиПоНаименованию("Розничная цена");
//Объект.ВалютаДокумента = Справочники.Валюты.НайтиПоКоду("810");   
Объект.Склад           = Справочники.Склады.НайтиПоКоду("W0000004");       
Объект.Ответственный   = Пользователи.ТекущийПользователь();

Для Каждого Строка из Объект.Товары Цикл
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
	Строка.Цена = Строка.Сумма / Строка.Количество;
КонецЦикла;

Если Объект.Оплата.Количество()&gt;0 Тогда
	Для Каждого Стр из Объект.Оплата Цикл
		Стр.ВидОплаты   = Справочники.ВидыОплатОрганизаций.НайтиПоНаименованию("Эквайринг");
	КонецЦикла
КонецЕсли;

//Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

//Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
//	Объект.Склад = Справочники.Склады.НайтиПоНаименованию("Основной")
//КонецЕсли;


Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; ВалютаДокумента</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
					<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; ДокументБезНДС</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Организация</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>5</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>6</Код>
					<Наименование>--&gt; Склад</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>16</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>17</Код>
					<Наименование>--&gt; Ответственный</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>18</Код>
					<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
					<Порядок>500</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>550</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение= "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>15</Код>
						<Наименование>--&gt; Цена</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>//Значение = ВходящиеДанные.Получить("Сумма")/ВходящиеДанные.Получить("Количество");</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>19</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>20</Код>
					<Наименование>--&gt; Оплата</Наименование>
					<Порядок>650</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; СуммаОплаты</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>27</Код>
						<Наименование>--&gt; ВидОплаты</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатОрганизаций"/>
						<ПередВыгрузкой>Значение = "Эквайринг";</ПередВыгрузкой>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>22</Код>
					<Наименование>--&gt; КратностьДокумента</Наименование>
					<Порядок>700</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьДокумента" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>23</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>750</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
				</Свойство>
				<Свойство>
					<Код>24</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>800</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>28</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>850</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ПКО_Общий</Код>
			<Наименование>:</Наименование>
			<Порядок>450</Порядок>
			<ПослеЗагрузки>Объект.Организация 		  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка Из Объект.РасшифровкаПлатежа Цикл
	Строка.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
КонецЦикла;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; ВалютаДокумента</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
					<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>3</Код>
					<Наименование>--&gt; ДоговорКонтрагента</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
					<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Контрагент</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Контрагент" Вид="Реквизит"/>
					<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>250</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; СтавкаНДС</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; СуммаДокумента</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
				</Свойство>
				<Свойство>
					<Код>8</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>400</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>9</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>450</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>10</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>500</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>11</Код>
					<Наименование>--&gt; ПометкаУдаления</Наименование>
					<Порядок>550</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>12</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Группа>
					<Код>13</Код>
					<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
					<Порядок>650</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
					<Свойство Отключить="true">
						<Код>14</Код>
						<Наименование>--&gt; ДоговорКонтрагента</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
						<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>--&gt; СуммаПлатежа</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>25</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>700</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>РКО_Общий</Код>
			<Наименование>:</Наименование>
			<Порядок>450</Порядок>
			<ПослеЗагрузки>Объект.Организация 		  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка Из Объект.РасшифровкаПлатежа Цикл
	Строка.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
КонецЦикла;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
			<Свойства>
				<Свойство>
					<Код>1</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
					<ПередВыгрузкой>Значение = "ВозвратПокупателю";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>100</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>150</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство>
					<Код>4</Код>
					<Наименование>--&gt; СтавкаНДС</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СуммаДокумента</Наименование>
					<Порядок>250</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
						<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; СуммаПлатежа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
				</Группа>
			</Свойства>
			<Значения/>
		</Правило>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Группа Отключить="false">
				<Код>ПоступленияТоваровИУслуг</Код>
				<Наименование>ПоступленияТоваровИУслуг</Наименование>
				<Порядок>50</Порядок>
				<Правило Отключить="false">
					<Код>ПоступлениеУслуг</Код>
					<Наименование>ПоступлениеУслуг</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ПоступлениеУслуг                                  </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПоступлениеТоваров</Код>
					<Наименование>ПоступлениеТоваровУслуг</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПриходнаяНаРеализацию</Код>
					<Наименование>ПриходнаяНаРеализацию</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>ПоступлениеНаРеализацию                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНаРеализацию</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПеремещениеФилиал</Код>
					<Наименование>ПеремещениеФилиал</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>ПеремещениеФилиалов                               </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПеремещениеФилиал</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПоступлениеДопРасходов</Код>
					<Наименование>Поступление доп.расходов</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ПоступлениеДопРасходов                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратРеализатораПоставщику</Код>
					<Наименование>ВозвратРеализатораПоставщику</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровПоставщику                          </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ВозвратРеализатораПоставщику</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Реализация</Код>
				<Наименование>Реализация                                        </Наименование>
				<Порядок>100</Порядок>
				<Правило Отключить="false">
					<Код>РасходнаяНакладная</Код>
					<Наименование>РасходнаяНакладная</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>РеализацияТоваровУслуг                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.РасходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>УСН_Продажа</Код>
					<Наименование>УСН_Продажа</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>УСН_РозничныеПродажи                              </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>УСН_Возврат</Код>
					<Наименование>УСН_Возврат</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>УСН_ВозвратОтПокупателя                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратПокупателя</Код>
					<Наименование>ВозвратПокупателя</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровОтПокупателя                        </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ВозвратПокупателя</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ПлатежныеДокументы</Код>
				<Наименование>ПлатежныеДокументы</Наименование>
				<Порядок>150</Порядок>
				<Правило Отключить="false">
					<Код>ПриходныйКассовыйОрдер_Чеки</Код>
					<Наименование>ПриходныйКассовыйОрдер_Чеки</Наименование>
					<Порядок>750</Порядок>
					<КодПравилаКонвертации>ПриходныйКассовыйОрдер                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>РасходныйКассовыйОрдер_Чеки</Код>
					<Наименование>РасходныйКассовыйОрдер_Чеки</Наименование>
					<Порядок>800</Порядок>
					<КодПравилаКонвертации>РасходныйКассовыйОрдер                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Общие</Код>
				<Наименование>Общие</Наименование>
				<Порядок>200</Порядок>
				<Правило Отключить="false">
					<Код>ЗаказНарядыНаличныеРубли</Код>
					<Наименование>ЗаказНарядыНаличныеРубли</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "  
				|SELECT 
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,   
				|	OrderLine.SP4350 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP
				|
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'    
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура, 
				|	-OrderLine.SP4350 AS Количество,    
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -OrderLine.SP4354 
				|		ELSE -(OrderLine.SP4354*OrderZ.SP141)
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine 
				|INNER JOIN  
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE 
				|	Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND 
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' 
				|		AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Заказ-наряд =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ЗаказНарядыТерминалРубли</Код>
					<Наименование>ЗаказНарядыТерминалРубли</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	 ТекстЗапроса = "
				|SELECT 
				|	OrderZ.IDDoc AS  [Doc $Документ.ЗаказНаряд], 
				|	RIGHT(OrderLine.SP4349, 9) AS [Номенклатура $Справочник.Номенклатура],  
				|	OrderLine.SP4350 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма,
				|	OrderZ.SP5847 AS Возврат,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы  
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час'
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR LIKE '%Руб%' 
				|";
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#ЗаказНаряд =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратЗаказНарядыНаличныеРубли</Код>
					<Наименование>ВозвратЗаказНарядыНаличныеРубли</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable1");
	
	ТекстЗапроса = "  
				|SELECT 
				|	OrderZ.IDDoc AS Doc,
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,   
				|	OrderLine.SP4350 AS Количество, 				
				//|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP
				|
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				//|LEFT JOIN 
				//|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'    
				|
				|UNION 
				|
				|SELECT  
				|	OrderZ.IDDoc AS Doc,
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура, 
				|	-OrderLine.SP4350 AS Количество,    
				//|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -OrderLine.SP4354 
				|		ELSE -(OrderLine.SP4354*OrderZ.SP141)
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine 
				|INNER JOIN  
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				//|LEFT JOIN 
				//|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE 
				|	Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND 
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' 
				|		AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'
				|";
	
	//ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT  
				|	#TMP.Doc AS [Doc $Документ.ЗаказНаряд],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = #TMP.Doc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Заказ-наряд =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		    		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable1");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратЗаказНарядыТерминалРубли</Код>
					<Наименование>ВозвратЗаказНарядыТерминал</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"
			|SELECT 
			|	OrderZ.IDDoc AS Doc, 
			|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,  
			|	OrderLine.SP4350 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN OrderLine.SP4354
			|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
			|		END  Сумма,
			|	OrderZ.SP5847 AS Возврат,  
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы  
			|
			|INTO #TMP
			|
			|FROM 
			|	$ДокументСтроки.ЗаказНаряд AS OrderLine
			|INNER JOIN 
			|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
			|LEFT JOIN 
			|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
			|LEFT JOIN 
			|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час'
			|		AND  ProductName.DESCR NOT LIKE 'Масло моторное'
			|";  
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";

	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#ЗаказНаряд =&gt; Возврат покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КассовыеЧекиНаличныеРубли</Код>
					<Наименование>КассовыеЧекиНаличныеРубли</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
		
		пДатаНачала = п1ДатаОкончания;
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КассовыеЧекиТерминалРубли</Код>
					<Наименование>КассовыеЧекиТерминалРубли</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекстЗапроса = 	"SELECT   
				|	ProductCheck.IDDoc AS  [Doc $Документ.КассовыйЧек],
				|	RIGHT(ProductCheckLine.SP7232, 9) AS [Номенклатура $Справочник.Номенклатура],
				|	ProductCheckLine.SP7233 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма,
				|	ProductCheck.SP5358 AS Возврат, 
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы     	
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP7130 = 0 AND ProductCheck.SP5358 = 0 AND Cy.DESCR LIKE '%Руб%'						
				|";  
	
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратКассовыеЧекиНаличные</Код>
					<Наименование>ВозвратКассовыеЧекиНаличные</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
		ТекстЗапроса = "
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	RIGHT(ProductCheck.SP138, 9) AS Base,
				|	
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT 
				|	ProductCheck.IDDoc AS Doc,
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	RIGHT(ProductCheck.SP138, 9) AS Base,    
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);

	 ЗапросТемп = "
				|SELECT       
				|	#TMP.Base AS [Doc $Документ.ТоварныйЧек],
				|	#TMP.Doc AS [Doc $Документ.КассовыйЧек],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|
				|LEFT JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck_1 ON ProductCheck_1.IDDoc = #TMP.Base 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck_1.IDDoc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998, Base
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;

	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратКассовыеЧекиТерминал</Код>
					<Наименование>ВозвратКассовыеЧекиТерминал</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"SELECT   
			|	ProductCheck.IDDoc AS Doc,
			|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
			|	ProductCheckLine.SP7233 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP7233) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN ProductCheckLine.SP7237
			|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
			|		END  Сумма,
			|	ProductCheck.SP5358 AS Возврат, 
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы
			|
			|INTO #TMP
			|
			|FROM  
			|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
			|INNER JOIN 
			|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
			|LEFT JOIN 
			|	$Документ.ТоварныйЧек AS ProductCheck_1 ON ProductCheck_1.IDDoc = RIGHT(ProductCheck.SP138, 9) 
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck_1.IDDoc AND Movies.SP456 = RIGHT(ProductCheckLine.SP7232, 9)
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP7130 = 0 AND ProductCheck.SP5358 = 1						
			|
			|"; 
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";
	
	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовый Чек =&gt; Возврат товаров от покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ПКО_ОбщиеЧеки</Код>
					<Наименование>ПКО_ОбщиеЧеки</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>ПКО_Общий                                         </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Place AS [Place $Справочник.Подразделения],
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Place
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		
		РасшифровкаПлатежа = СоздатьОбъект("ТаблицаЗначений");
		РасшифровкаПлатежа.НоваяКолонка("КратностьВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("КурсВзаиморасчетов");
		//РасшифровкаПлатежа.НоваяКолонка("СпособПогашенияЗадолжености");
		РасшифровкаПлатежа.НоваяКолонка("СтавкаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
		РасшифровкаПлатежа.НоваяКолонка("СуммаВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("СуммаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");
		РасшифровкаПлатежа.НоваяКолонка("СуммаПлатежа");
		
		РасшифровкаПлатежа.НоваяСтрока();		
		РасшифровкаПлатежа.СуммаПлатежа         		  = ПродажаЧЛ.Сумма;
		РасшифровкаПлатежа.КратностьВзаиморасчетов 		  = 1;
		РасшифровкаПлатежа.КурсВзаиморасчетов	  		  = 1;	
		//РасшифровкаПлатежа.СпособПогашенияЗадолжености 	  = "Автоматически";
		РасшифровкаПлатежа.СтавкаНДС                   	  = "БезНДС";
		РасшифровкаПлатежа.СтатьяДвиженияДенежныхСредств  = "Оплата от покупателей";
		РасшифровкаПлатежа.СуммаНДС                       = 0;
		РасшифровкаПлатежа.СуммаВзаиморасчетов            = ПродажаЧЛ.Сумма;  
		РасшифровкаПлатежа.СчетУчетаРасчетовПоАвансам     = "62.02";
		РасшифровкаПлатежа.СчетУчетаРасчетовСКонтрагентом = "62.01";
				
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("ПодразделениеОрганизации", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("СуммаДокумента", ПродажаЧЛ.Сумма);
		ИсходящиеДанные.Установить("Комментарий", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("РасшифровкаПлатежа", РасшифровкаПлатежа);
				
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПКО_Общий");
		                                       		
		//пДатаНачала = п1ДатаОкончания;
		              		
	КонецЦикла;	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>РКО_ОбщиеЧеки</Код>
					<Наименование>РКО_ОбщиеЧеки</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>РКО_Общий                                         </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Place AS [Place $Справочник.Подразделения],
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Place
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		
		РасшифровкаПлатежа = СоздатьОбъект("ТаблицаЗначений");
		РасшифровкаПлатежа.НоваяКолонка("КратностьВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("КурсВзаиморасчетов");
		//РасшифровкаПлатежа.НоваяКолонка("СпособПогашенияЗадолжености");
		РасшифровкаПлатежа.НоваяКолонка("СтавкаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
		РасшифровкаПлатежа.НоваяКолонка("СуммаВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("СуммаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");
		РасшифровкаПлатежа.НоваяКолонка("СуммаПлатежа");
		
		РасшифровкаПлатежа.НоваяСтрока();		
		РасшифровкаПлатежа.СуммаПлатежа         		  = -ПродажаЧЛ.Сумма;
		РасшифровкаПлатежа.КратностьВзаиморасчетов 		  = 1;
		РасшифровкаПлатежа.КурсВзаиморасчетов	  		  = 1;	
		//РасшифровкаПлатежа.СпособПогашенияЗадолжености 	  = "Автоматически";
		РасшифровкаПлатежа.СтавкаНДС                   	  = "БезНДС";
		РасшифровкаПлатежа.СтатьяДвиженияДенежныхСредств  = "Возврат покупателям";
		РасшифровкаПлатежа.СуммаНДС                       = 0;
		РасшифровкаПлатежа.СуммаВзаиморасчетов            = -ПродажаЧЛ.Сумма;  
		РасшифровкаПлатежа.СчетУчетаРасчетовПоАвансам     = "62.02";
		РасшифровкаПлатежа.СчетУчетаРасчетовСКонтрагентом = "62.01";
				
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("ПодразделениеОрганизации", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("СуммаДокумента", -ПродажаЧЛ.Сумма);
		ИсходящиеДанные.Установить("Комментарий", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("РасшифровкаПлатежа", РасшифровкаПлатежа);
				
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "РКО_Общий");
		                                       		
		//пДатаНачала = п1ДатаОкончания;
		              		
	КонецЦикла;	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Правило Отключить="false">
				<Код>ТоварныйЧек</Код>
				<Наименование>ТоварныйЧек</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>РКО_ТЧ                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="true">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="true">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Пользователи</Код>
				<Наименование>Пользователи</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Номенклатура</Код>
				<Наименование>Номенклатура</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВидыНоменклатуры</Код>
				<Наименование>ВидыНоменклатуры</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>СтавкиНДС</Код>
				<Наименование>СтавкиНДС</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтавкиНДС</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>БазовыеЕдиницы</Код>
				<Наименование>БазовыеЕдиницы</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БазовыеЕдиницы</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Подразделения</Код>
				<Наименование>Подразделения</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Подразделения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Договоры</Код>
				<Наименование>Договоры</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Договоры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Банки</Код>
				<Наименование>Банки</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Банки</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ГТД</Код>
				<Наименование>ГТД</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ГТД</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Страны</Код>
				<Наименование>Страны</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Страны</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Подразделения00001</Код>
				<Наименование>Подразделения</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Подразделения</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="true">
			<Код>DontWorksRules</Код>
			<Наименование>DontWorksRules</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="true">
				<Код>ОтчетОРозничныхПродажах_Общий</Код>
				<Наименование>ОтчетОРозничныхПродажах_Общий</Наименование>
				<Порядок>50</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	пТЗ =  СоздатьОбъект("СписокЗначений");    
	пТЗ.ДобавитьЗначение("1"); 
	пТЗ.ДобавитьЗначение("2");
	
	рТЗ =  СоздатьОбъект("СписокЗначений");    
	рТЗ.ДобавитьЗначение("1"); 
	рТЗ.ДобавитьЗначение("2");
	
	КакогоХ = "Ф";
	ТерминалЗапрос ="";
	ТекстДляВозвратов = "UNION SELECT  ProductCheckLine.SP2643 AS &amp;Номенклатура, -ProductCheckLine.SP2644 AS Количество, CASE WHEN LEFT(Cy.DESCR, 3) = 'Руб' THEN -ProductCheckLine.SP2648 ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141) "+ 
							"END Сумма FROM $ДокументСтроки.ТоварныйЧек AS ProductCheckLine INNER JOIN  $Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc LEFT JOIN "+
							"$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 LEFT JOIN $Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640 INNER JOIN _1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc "+
							"WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 UNION "+
							"SELECT  RIGHT(OrderLine.SP4349, 9) AS &amp;Номенклатура, -OrderLine.SP4350 AS Количество, CASE WHEN LEFT(Cy.DESCR, 3) = 'Руб' THEN -OrderLine.SP4354 ELSE -(OrderLine.SP4354*OrderZ.SP141) "+
							"END  Сумма FROM $ДокументСтроки.ЗаказНаряд AS OrderLine INNER JOIN  $Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc LEFT JOIN $Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 "+
							"LEFT JOIN $Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) LEFT JOIN $Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136 "+
							"LEFT JOIN $Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 INNER JOIN _1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND "+
							"Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное'";			

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheckLine.SP2643 AS &amp;Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма  
				|	&amp;ВременнаяТаблица 
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0       
				|
				|UNION
				|
				|SELECT 
				|	RIGHT(OrderLine.SP4349, 9) AS &amp;Номенклатура,   
				|	OrderLine.SP4350 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное'   
				|	
				| &amp;ЗначениеДляВозвратов
				|";
                                            
	ТерминалЗапрос       = ТекстЗапроса;
	КакогоХ              = ТерминалЗапрос+" " + ТекстДляВозвратов;
	
				
	Для Инд=1 По пТЗ.РазмерСписка() Цикл 	
		НомерСтр = пТЗ.ПолучитьЗначение(Инд);	    
		Если НомерСтр = "1" Тогда
			
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ЗначениеДляВозвратов", "");		
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ЗначениеДляЗамены", "AND CashBox.DESCR LIKE 'Терминал%'"); 
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ВременнаяТаблица", ""); 
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;Номенклатура", "[Номенклатура $Справочник.Номенклатура]");
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТерминалЗапрос,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Продажи по терминалу на основании Товарных чеков и ЗаказНарядов.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
		ИначеЕсли НомерСтр = "2" Тогда
			
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ЗначениеДляВозвратов", ТекстДляВозвратов);
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ЗначениеДляЗамены", "AND CashBox.DESCR LIKE 'Касса%'");
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ВременнаяТаблица", "INTO #TMP");
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;Номенклатура", "Номенклатура");
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания); 
                    		
			RS.ВыполнитьИнструкцию(КакогоХ);
		                                        
		
			ЗапросТемп = "
						|SELECT
						|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
						|	&amp;Знак SUM(#TMP.Количество) AS Количество,
						|	&amp;Знак SUM(#TMP.Сумма) AS Сумма 
						|
						|FROM #TMP
						|WHERE
						|	&amp;ЗначениеКолво
						|GROUP BY
						|	Номенклатура
						|	
						|";   
			       
			Для Индп=1 По рТЗ.РазмерСписка() Цикл   
				
				НомСтр = рТЗ.ПолучитьЗначение(Индп);
				    				
				Если НомСтр = "1" Тогда 
					
					ЗапросТемп_1 = СтрЗаменить(ЗапросТемп, "&amp;ЗначениеКолво", "  (#TMP.Сумма &gt; 0) "); 
					ЗапросТемп_1 = СтрЗаменить(ЗапросТемп_1, "&amp;Знак", "");
					ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп_1,,1); 
					
					Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
						
						ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
						ИсходящиеДанные.Установить("Дата", пДатаНачала);
						ИсходящиеДанные.Установить("Комментарий", "#Продажи Частным лицам на основании Товарных чеков и ЗаказНарядов.");
						ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
						//ИсходящиеДанные.Установить("Оплата", Оплата);
						
						ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
						
					КонецЕсли;
					
				ИначеЕсли НомСтр = "2" Тогда
					
					ЗапросТемп_2 = СтрЗаменить(ЗапросТемп, "&amp;ЗначениеКолво", " (#TMP.Сумма &lt; 0) ");
					ЗапросТемп_2 = СтрЗаменить(ЗапросТемп_2, "&amp;Знак", "-");
					ВозвратыЧЛ   = RS.ВыполнитьИнструкцию(ЗапросТемп_2,,1); 
					
					Если ВозвратыЧЛ.КоличествоСтрок()&gt;0 Тогда
						
						ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
						ИсходящиеДанные.Установить("Дата", пДатаНачала);
						ИсходящиеДанные.Установить("Комментарий", "#Возвраты наличных денег по Товарным чекам и ЗаказНарядам.");
						ИсходящиеДанные.Установить("Товары", ВозвратыЧЛ);
						//ИсходящиеДанные.Установить("Оплата", Оплата);
						
						ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
						
					КонецЕсли;

				КонецЕсли;
				
			КонецЦикла;
			           					     			
		КонецЕсли;
		
	КонецЦикла;
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>УСН_ТоварныйЧек</Код>
				<Наименование>УСН_ТоварныйЧек</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>УСН_РозничнаяПродажаДо20170720                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>УСН_ВозвратОтПокупателядоя2007</Код>
				<Наименование>УСН_ВозвратОтПокупателяДо20170720</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>УСН_ВозвратОтПокупателяДо20170720                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныйЧекРеализацияВалюта</Код>
				<Наименование>ТоварныйЧекРеализацияВалюта</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>ТоварныйЧекРеализацияВалюта                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>КассовыйЧекРеализацияВалюта</Код>
				<Наименование>КассовыйЧекРеализацияВалюта</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>КассовыйЧекРеализацияВалюта                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>КассовыйЧекВозвратВалюта</Код>
				<Наименование>КассовыйЧекВозвратВалюта</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>КассовыйЧекВозвратВалюта                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныеЧекиНаличныеРубли</Код>
				<Наименование>ТоварныеЧекиНаличныеРубли</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheckLine.SP2643 AS Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	ProductCheckLine.SP2643 AS Номенклатура, 
				|	-ProductCheckLine.SP2644 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP2648 
				|		ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
		
		пДатаНачала = п1ДатаОкончания;
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныеЧекиТерминалРубли</Код>
				<Наименование>ТоварныеЧекиТерминалРубли</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекстЗапроса = 	"SELECT   
				|	ProductCheck.IDDoc AS  [Doc $Документ.ТоварныйЧек],
				|	ProductCheckLine.SP2643 AS [Номенклатура $Справочник.Номенклатура],
				|	ProductCheckLine.SP2644 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма,
				|	ProductCheck.SP3109 AS Возврат, 
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы     	
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR LIKE '%Руб%'						
				|";  
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныйЧекВозвратВалюта</Код>
				<Наименование>ТоварныйЧекВозвратВалюта</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>ТоварныйЧекВозвратВалюта                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВозвратТоварныеЧекиНаличные</Код>
				<Наименование>ВозвратТоварныеЧекиНаличныеРубли</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	ProductCheckLine.SP2643 AS Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				//|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine. SP2643
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	ProductCheckLine.SP2643 AS Номенклатура, 
				|	-ProductCheckLine.SP2644 AS Количество,
				//|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP2648 
				|		ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine. SP2643
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);

	ЗапросТемп = "
				|SELECT  
				|	#TMP.Doc AS [Doc $Документ.ТоварныйЧек],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = #TMP.Doc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;

	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ЕНВД_Продажи</Код>
				<Наименование>ЕНВД_Продажи</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ЕНВД_Продажи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВозвратТоваровЕНВД_Терминал</Код>
				<Наименование>ВозвратТоваровЕНВД_Терминал</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"SELECT   
			|	ProductCheck.IDDoc AS Doc,
			|	ProductCheckLine.SP2643 AS Номенклатура,
			|	ProductCheckLine.SP2644 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN ProductCheckLine.SP2648
			|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
			|		END  Сумма,
			|	ProductCheck.SP3109 AS Возврат, 
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы
			|
			|INTO #TMP
			|
			|FROM  
			|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
			|INNER JOIN 
			|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine.SP2643
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0						
			|
			|"; 
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";
	
	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарный Чек =&gt; Возврат товаров от покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ЕНВД_Продажи_нет</Код>
				<Наименование>ЕНВД_Продажи_неткасс</Наименование>
				<Порядок>750</Порядок>
				<КодПравилаКонвертации>ЕНВД_Продажи_неткасс                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы/>
	<Запросы/>
</ПравилаОбмена>
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998, Base
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;

	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратКассовыеЧекиТерминал</Код>
					<Наименование>ВозвратКассовыеЧекиТерминал</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"SELECT   
			|	ProductCheck.IDDoc AS Doc,
			|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
			|	ProductCheckLine.SP7233 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP7233) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN ProductCheckLine.SP7237
			|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
			|		END  Сумма,
			|	ProductCheck.SP5358 AS Возврат, 
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы
			|
			|INTO #TMP
			|
			|FROM  
			|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
			|INNER JOIN 
			|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
			|LEFT JOIN 
			|	$Документ.ТоварныйЧек AS ProductCheck_1 ON ProductCheck_1.IDDoc = RIGHT(ProductCheck.SP138, 9) 
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck_1.IDDoc AND Movies.SP456 = RIGHT(ProductCheckLine.SP7232, 9)
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP7130 = 0 AND ProductCheck.SP5358 = 1						
			|
			|"; 
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";
	
	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовый Чек =&gt; Возврат товаров от покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ПКО_ОбщиеЧеки</Код>
					<Наименование>ПКО_ОбщиеЧеки</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>ПКО_Общий                                         </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Place AS [Place $Справочник.Подразделения],
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Place
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		
		РасшифровкаПлатежа = СоздатьОбъект("ТаблицаЗначений");
		РасшифровкаПлатежа.НоваяКолонка("КратностьВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("КурсВзаиморасчетов");
		//РасшифровкаПлатежа.НоваяКолонка("СпособПогашенияЗадолжености");
		РасшифровкаПлатежа.НоваяКолонка("СтавкаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
		РасшифровкаПлатежа.НоваяКолонка("СуммаВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("СуммаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");
		РасшифровкаПлатежа.НоваяКолонка("СуммаПлатежа");
		
		РасшифровкаПлатежа.НоваяСтрока();		
		РасшифровкаПлатежа.СуммаПлатежа         		  = ПродажаЧЛ.Сумма;
		РасшифровкаПлатежа.КратностьВзаиморасчетов 		  = 1;
		РасшифровкаПлатежа.КурсВзаиморасчетов	  		  = 1;	
		//РасшифровкаПлатежа.СпособПогашенияЗадолжености 	  = "Автоматически";
		РасшифровкаПлатежа.СтавкаНДС                   	  = "БезНДС";
		РасшифровкаПлатежа.СтатьяДвиженияДенежныхСредств  = "Оплата от покупателей";
		РасшифровкаПлатежа.СуммаНДС                       = 0;
		РасшифровкаПлатежа.СуммаВзаиморасчетов            = ПродажаЧЛ.Сумма;  
		РасшифровкаПлатежа.СчетУчетаРасчетовПоАвансам     = "62.02";
		РасшифровкаПлатежа.СчетУчетаРасчетовСКонтрагентом = "62.01";
				
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("ПодразделениеОрганизации", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("СуммаДокумента", ПродажаЧЛ.Сумма);
		ИсходящиеДанные.Установить("Комментарий", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("РасшифровкаПлатежа", РасшифровкаПлатежа);
				
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПКО_Общий");
		                                       		
		//пДатаНачала = п1ДатаОкончания;
		              		
	КонецЦикла;	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>РКО_ОбщиеЧеки</Код>
					<Наименование>РКО_ОбщиеЧеки</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>РКО_Общий                                         </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Place AS [Place $Справочник.Подразделения],
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Place
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		
		РасшифровкаПлатежа = СоздатьОбъект("ТаблицаЗначений");
		РасшифровкаПлатежа.НоваяКолонка("КратностьВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("КурсВзаиморасчетов");
		//РасшифровкаПлатежа.НоваяКолонка("СпособПогашенияЗадолжености");
		РасшифровкаПлатежа.НоваяКолонка("СтавкаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
		РасшифровкаПлатежа.НоваяКолонка("СуммаВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("СуммаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");
		РасшифровкаПлатежа.НоваяКолонка("СуммаПлатежа");
		
		РасшифровкаПлатежа.НоваяСтрока();		
		РасшифровкаПлатежа.СуммаПлатежа         		  = -ПродажаЧЛ.Сумма;
		РасшифровкаПлатежа.КратностьВзаиморасчетов 		  = 1;
		РасшифровкаПлатежа.КурсВзаиморасчетов	  		  = 1;	
		//РасшифровкаПлатежа.СпособПогашенияЗадолжености 	  = "Автоматически";
		РасшифровкаПлатежа.СтавкаНДС                   	  = "БезНДС";
		РасшифровкаПлатежа.СтатьяДвиженияДенежныхСредств  = "Возврат покупателям";
		РасшифровкаПлатежа.СуммаНДС                       = 0;
		РасшифровкаПлатежа.СуммаВзаиморасчетов            = -ПродажаЧЛ.Сумма;  
		РасшифровкаПлатежа.СчетУчетаРасчетовПоАвансам     = "62.02";
		РасшифровкаПлатежа.СчетУчетаРасчетовСКонтрагентом = "62.01";
				
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("ПодразделениеОрганизации", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("СуммаДокумента", -ПродажаЧЛ.Сумма);
		ИсходящиеДанные.Установить("Комментарий", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("РасшифровкаПлатежа", РасшифровкаПлатежа);
				
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "РКО_Общий");
		                                       		
		//пДатаНачала = п1ДатаОкончания;
		              		
	КонецЦикла;	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Правило Отключить="false">
				<Код>ТоварныйЧек</Код>
				<Наименование>ТоварныйЧек</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>РКО_ТЧ                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="true">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="true">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Пользователи</Код>
				<Наименование>Пользователи</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Номенклатура</Код>
				<Наименование>Номенклатура</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВидыНоменклатуры</Код>
				<Наименование>ВидыНоменклатуры</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>СтавкиНДС</Код>
				<Наименование>СтавкиНДС</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтавкиНДС</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>БазовыеЕдиницы</Код>
				<Наименование>БазовыеЕдиницы</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БазовыеЕдиницы</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Подразделения</Код>
				<Наименование>Подразделения</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Подразделения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Договоры</Код>
				<Наименование>Договоры</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Договоры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Банки</Код>
				<Наименование>Банки</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Банки</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ГТД</Код>
				<Наименование>ГТД</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ГТД</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Страны</Код>
				<Наименование>Страны</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Страны</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Подразделения00001</Код>
				<Наименование>Подразделения</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Подразделения</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="true">
			<Код>DontWorksRules</Код>
			<Наименование>DontWorksRules</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="true">
				<Код>ОтчетОРозничныхПродажах_Общий</Код>
				<Наименование>ОтчетОРозничныхПродажах_Общий</Наименование>
				<Порядок>50</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	пТЗ =  СоздатьОбъект("СписокЗначений");    
	пТЗ.ДобавитьЗначение("1"); 
	пТЗ.ДобавитьЗначение("2");
	
	рТЗ =  СоздатьОбъект("СписокЗначений");    
	рТЗ.ДобавитьЗначение("1"); 
	рТЗ.ДобавитьЗначение("2");
	
	КакогоХ = "Ф";
	ТерминалЗапрос ="";
	ТекстДляВозвратов = "UNION SELECT  ProductCheckLine.SP2643 AS &amp;Номенклатура, -ProductCheckLine.SP2644 AS Количество, CASE WHEN LEFT(Cy.DESCR, 3) = 'Руб' THEN -ProductCheckLine.SP2648 ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141) "+ 
							"END Сумма FROM $ДокументСтроки.ТоварныйЧек AS ProductCheckLine INNER JOIN  $Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc LEFT JOIN "+
							"$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 LEFT JOIN $Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640 INNER JOIN _1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc "+
							"WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 UNION "+
							"SELECT  RIGHT(OrderLine.SP4349, 9) AS &amp;Номенклатура, -OrderLine.SP4350 AS Количество, CASE WHEN LEFT(Cy.DESCR, 3) = 'Руб' THEN -OrderLine.SP4354 ELSE -(OrderLine.SP4354*OrderZ.SP141) "+
							"END  Сумма FROM $ДокументСтроки.ЗаказНаряд AS OrderLine INNER JOIN  $Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc LEFT JOIN $Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 "+
							"LEFT JOIN $Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) LEFT JOIN $Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136 "+
							"LEFT JOIN $Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 INNER JOIN _1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND "+
							"Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное'";			

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheckLine.SP2643 AS &amp;Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма  
				|	&amp;ВременнаяТаблица 
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0       
				|
				|UNION
				|
				|SELECT 
				|	RIGHT(OrderLine.SP4349, 9) AS &amp;Номенклатура,   
				|	OrderLine.SP4350 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное'   
				|	
				| &amp;ЗначениеДляВозвратов
				|";
                                            
	ТерминалЗапрос       = ТекстЗапроса;
	КакогоХ              = ТерминалЗапрос+" " + ТекстДляВозвратов;
	
				
	Для Инд=1 По пТЗ.РазмерСписка() Цикл 	
		НомерСтр = пТЗ.ПолучитьЗначение(Инд);	    
		Если НомерСтр = "1" Тогда
			
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ЗначениеДляВозвратов", "");		
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ЗначениеДляЗамены", "AND CashBox.DESCR LIKE 'Терминал%'"); 
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ВременнаяТаблица", ""); 
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;Номенклатура", "[Номенклатура $Справочник.Номенклатура]");
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТерминалЗапрос,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Продажи по терминалу на основании Товарных чеков и ЗаказНарядов.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
		ИначеЕсли НомерСтр = "2" Тогда
			
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ЗначениеДляВозвратов", ТекстДляВозвратов);
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ЗначениеДляЗамены", "AND CashBox.DESCR LIKE 'Касса%'");
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ВременнаяТаблица", "INTO #TMP");
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;Номенклатура", "Номенклатура");
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания); 
                    		
			RS.ВыполнитьИнструкцию(КакогоХ);
		                                        
		
			ЗапросТемп = "
						|SELECT
						|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
						|	&amp;Знак SUM(#TMP.Количество) AS Количество,
						|	&amp;Знак SUM(#TMP.Сумма) AS Сумма 
						|
						|FROM #TMP
						|WHERE
						|	&amp;ЗначениеКолво
						|GROUP BY
						|	Номенклатура
						|	
						|";   
			       
			Для Индп=1 По рТЗ.РазмерСписка() Цикл   
				
				НомСтр = рТЗ.ПолучитьЗначение(Индп);
				    				
				Если НомСтр = "1" Тогда 
					
					ЗапросТемп_1 = СтрЗаменить(ЗапросТемп, "&amp;ЗначениеКолво", "  (#TMP.Сумма &gt; 0) "); 
					ЗапросТемп_1 = СтрЗаменить(ЗапросТемп_1, "&amp;Знак", "");
					ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп_1,,1); 
					
					Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
						
						ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
						ИсходящиеДанные.Установить("Дата", пДатаНачала);
						ИсходящиеДанные.Установить("Комментарий", "#Продажи Частным лицам на основании Товарных чеков и ЗаказНарядов.");
						ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
						//ИсходящиеДанные.Установить("Оплата", Оплата);
						
						ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
						
					КонецЕсли;
					
				ИначеЕсли НомСтр = "2" Тогда
					
					ЗапросТемп_2 = СтрЗаменить(ЗапросТемп, "&amp;ЗначениеКолво", " (#TMP.Сумма &lt; 0) ");
					ЗапросТемп_2 = СтрЗаменить(ЗапросТемп_2, "&amp;Знак", "-");
					ВозвратыЧЛ   = RS.ВыполнитьИнструкцию(ЗапросТемп_2,,1); 
					
					Если ВозвратыЧЛ.КоличествоСтрок()&gt;0 Тогда
						
						ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
						ИсходящиеДанные.Установить("Дата", пДатаНачала);
						ИсходящиеДанные.Установить("Комментарий", "#Возвраты наличных денег по Товарным чекам и ЗаказНарядам.");
						ИсходящиеДанные.Установить("Товары", ВозвратыЧЛ);
						//ИсходящиеДанные.Установить("Оплата", Оплата);
						
						ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
						
					КонецЕсли;

				КонецЕсли;
				
			КонецЦикла;
			           					     			
		КонецЕсли;
		
	КонецЦикла;
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>УСН_ТоварныйЧек</Код>
				<Наименование>УСН_ТоварныйЧек</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>УСН_РозничнаяПродажаДо20170720                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>УСН_ВозвратОтПокупателядоя2007</Код>
				<Наименование>УСН_ВозвратОтПокупателяДо20170720</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>УСН_ВозвратОтПокупателяДо20170720                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныйЧекРеализацияВалюта</Код>
				<Наименование>ТоварныйЧекРеализацияВалюта</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>ТоварныйЧекРеализацияВалюта                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>КассовыйЧекРеализацияВалюта</Код>
				<Наименование>КассовыйЧекРеализацияВалюта</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>КассовыйЧекРеализацияВалюта                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>КассовыйЧекВозвратВалюта</Код>
				<Наименование>КассовыйЧекВозвратВалюта</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>КассовыйЧекВозвратВалюта                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныеЧекиНаличныеРубли</Код>
				<Наименование>ТоварныеЧекиНаличныеРубли</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheckLine.SP2643 AS Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	ProductCheckLine.SP2643 AS Номенклатура, 
				|	-ProductCheckLine.SP2644 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP2648 
				|		ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
		
		пДатаНачала = п1ДатаОкончания;
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныеЧекиТерминалРубли</Код>
				<Наименование>ТоварныеЧекиТерминалРубли</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекстЗапроса = 	"SELECT   
				|	ProductCheck.IDDoc AS  [Doc $Документ.ТоварныйЧек],
				|	ProductCheckLine.SP2643 AS [Номенклатура $Справочник.Номенклатура],
				|	ProductCheckLine.SP2644 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма,
				|	ProductCheck.SP3109 AS Возврат, 
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы     	
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR LIKE '%Руб%'						
				|";  
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныйЧекВозвратВалюта</Код>
				<Наименование>ТоварныйЧекВозвратВалюта</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>ТоварныйЧекВозвратВалюта                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВозвратТоварныеЧекиНаличные</Код>
				<Наименование>ВозвратТоварныеЧекиНаличныеРубли</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	ProductCheckLine.SP2643 AS Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				//|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine. SP2643
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	ProductCheckLine.SP2643 AS Номенклатура, 
				|	-ProductCheckLine.SP2644 AS Количество,
				//|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP2648 
				|		ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine. SP2643
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);

	ЗапросТемп = "
				|SELECT  
				|	#TMP.Doc AS [Doc $Документ.ТоварныйЧек],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = #TMP.Doc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;

	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ЕНВД_Продажи</Код>
				<Наименование>ЕНВД_Продажи</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ЕНВД_Продажи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВозвратТоваровЕНВД_Терминал</Код>
				<Наименование>ВозвратТоваровЕНВД_Терминал</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"SELECT   
			|	ProductCheck.IDDoc AS Doc,
			|	ProductCheckLine.SP2643 AS Номенклатура,
			|	ProductCheckLine.SP2644 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN ProductCheckLine.SP2648
			|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
			|		END  Сумма,
			|	ProductCheck.SP3109 AS Возврат, 
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы
			|
			|INTO #TMP
			|
			|FROM  
			|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
			|INNER JOIN 
			|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine.SP2643
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0						
			|
			|"; 
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";
	
	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарный Чек =&gt; Возврат товаров от покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ЕНВД_Продажи_нет</Код>
				<Наименование>ЕНВД_Продажи_неткасс</Наименование>
				<Порядок>750</Порядок>
				<КодПравилаКонвертации>ЕНВД_Продажи_неткасс                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы/>
	<Запросы/>
</ПравилаОбмена>

<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="">2.01</ВерсияФормата>
	<Ид>bb6eeeeb-ae5b-4c07-b990-dd569685600a    </Ид>
	<Наименование>Альфа-Авто: Автозапчасти+Автосервис --&gt; БухгалтерияПредприятия</Наименование>
	<ДатаВремяСоздания>2019-05-30T09:40:35</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="7.7" ВерсияКонфигурации="Авто: запчасти+сервис. Ред.3.078" СинонимКонфигурации="Альфа-Авто: Автозапчасти+Автосервис">Альфа-Авто: Автозапчасти+Автосервис</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="3.0.70.33" СинонимКонфигурации="Бухгалтерия предприятия, редакция 3.0">БухгалтерияПредприятия</Приемник>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Группа>
				<Код>ПоступлениеТоваров</Код>
				<Наименование>ПоступлениеТоваров</Наименование>
				<Порядок>50</Порядок>
				<Правило>
					<Код>ПоступлениеТоваровУслуг</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;0 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>9</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.ГТД.Страна;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>13</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеУслуг</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда 	
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Услуги Цикл
	Строка.СтавкаНДС 	 = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН = Перечисления.ОтражениеВУСН.Распределяются;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Услуги</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "Услуги";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПеремещениеФилиалов</Код>
					<Наименование>Документ: Перемещение между филиалами</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "Р0000001" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПеремещениеФилиал</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Поставщик --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Поставщик" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ДоговорФирмы --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорФирмы" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
								<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтранаПроисхождения</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
								<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.ГТД.Страна;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>ПодразделениеКуда --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ПодразделениеКуда" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеДопРасходов</Код>
					<Наименование>Документ: Приходная накладная</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	
	Отказ = 1;
КонецЕсли;

Если Источник.НаЗатраты&lt;&gt;0 Тогда
	Отказ = 1;
КонецЕсли;

Если ПустоеЗначение(Источник.ДокументОснование)= 1 Тогда	
	Отказ = 1;
КонецЕсли;

//Если (Источник.ДокументОснование.Вид() &lt;&gt; "ПриходнаяНакладная") Тогда
Если (Источник.ДокументОснование.Вид() &lt;&gt; "ПеремещениеФилиал") Тогда  
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеДопРасходов.ЗаполнитьСчетаУчетаРасчетов(Объект);

Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;

//Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, Истина, Истина); 

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;
//Объект.СуммаНДС = УчетНДС.РассчитатьСуммуНДС(Объект.Сумма, Объект.СуммаВключаетНДС, УчетНДС.ПолучитьСтавкуНДС(Объект.СтавкаНДС));


//пСумма = 0;
Для Каждого Строка из Объект.Товары Цикл 	
	Строка.СчетУчета = ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
КонецЦикла;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.ПоступлениеДопРасходов</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Комментарий --&gt; Содержание</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>17</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
ТабДокумента.Выгрузить(КоллекцияОбъектов);

КоллекцияОбъектов.УдалитьСтроки();

КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

ТабДокумента.ВыбратьСтроки();
Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
	Если ТабДокумента.Количество &gt; 0 Тогда
		
		КоллекцияОбъектов.НоваяСтрока();
		КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
		КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
		КоллекцияОбъектов.СуммаТовара         = ТабДокумента.Сумма;
				
	КонецЕсли;
КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Номенклатура;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Количество;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; ДокументПартии</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДокументПартии" Вид="Реквизит"/>
								<ПередВыгрузкой>Значение = Источник.ДокументОснование;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаТовара</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаТовара" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = КоллекцияОбъектов.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.Цена;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>--&gt; СуммаДокумента</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента);

Значение = ТабДокумента.Цена;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; СпособРаспределения</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособРаспределения" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРаспределенияДопРасходов"/>
							<ПередВыгрузкой>Значение = "ПоСумме";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеНаРеализацию</Код>
					<Наименование>Документ: Приходная накладная на реализацию</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если  Источник.Контрагент.Код = "Т0002289"  Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000038" Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000042" Тогда
	Отказ = 0;
ИначеЕсли  Источник.Контрагент.Код = "00000004" Тогда
	Отказ = 0;  
Иначе	
	Отказ = 1;
КонецЕсли;

//Если Источник.Контрагент.Код &lt;&gt; "00000038" Тогда
//	Отказ = 1;
//КонецЕсли;

//Если Источник.Контрагент.Код &lt;&gt; "00000042" Тогда
//	Отказ = 1;
//КонецЕсли;



//	
//Если Источник.НаЗатраты&lt;&gt;0 Тогда   Или (Источник.Поставщик.Код&lt;&gt;"00000038" ) Или (Источник.Поставщик.Код&lt;&gt;"00000042") 
//	Отказ = 1;
//КонецЕсли;

//Если ПустоеЗначение(Источник.ДокументОснование)= 0  Тогда
//	Отказ = 1;
//КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Услуги");
//Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"ВозвратнаяТара");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;

Объект.СуммаВключаетНДС     = ЛОЖЬ;
Объект.НДСВключенВСтоимость = ЛОЖЬ;
Объект.НДСНеВыделять 		= ИСТИНА;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ПриходнаяНаРеализацию</Источник>
					<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>13</Код>
								<Наименование>ГТД --&gt; НомерГТД</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПоступлениеТоваровУслуг"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровПоставщику</Код>
					<Наименование>Документ: Возврат реализатора поставщику</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//СчетУчетаРасчетовСКонтрагентом
//Объект.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
//Объект.СчетУчетаРасчетовПоТаре        = СчетаУчета.СчетУчетаТары;

Документы.ПоступлениеТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект);
//Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;
//Для Каждого Строка из Объект.Товары Цикл
//	Строка.Цена = Строка.Сумма/Строка.Цена;
//КонецЦикла;

//Объект.Записать(РежимЗаписиДокумента.Проведение);</ПослеЗагрузки>
					<Источник>ДокументСсылка.ВозвратРеализатораПоставщику</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровПоставщику</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>//Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>9</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>14</Код>
								<Наименование>Стоимость --&gt; Цена</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Стоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>15</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Количество --&gt; КоличествоМест</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="КоличествоМест" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; Контрагент</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник.Контрагент;</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>18</Код>
								<Наименование>--&gt; Коэффициент</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Стоимость --&gt; Сумма</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Стоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>23</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; НДСВключенВСтоимость</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НДСВключенВСтоимость" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровПоставщику"/>
							<ПередВыгрузкой>Значение = "ПокупкаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>27</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Курс;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>РеализацияТоваров</Код>
				<Наименование>РеализацияТоваров</Наименование>
				<Порядок>100</Порядок>
				<Правило>
					<Код>РеализацияТоваровУслуг</Код>
					<Наименование>Документ: Расходная накладная</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ОтменаПродажи &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;

//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.РасходнаяНакладная</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ПодразделениеФилиал --&gt; Склад</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ПодразделениеФилиал" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>21</Код>
							<Наименование>БезНДС --&gt; ДокументБезНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="БезНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВозвратТоваровОтПокупателя</Код>
					<Наименование>Документ: Возврат покупателя</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();
	
Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ВозвратПокупателя</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>ПодразделениеФилиал --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ПодразделениеФилиал" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Розница_УСН</Код>
				<Наименование>Розница_УСН</Наименование>
				<Порядок>200</Порядок>
				<Правило>
					<Код>УСН_РозничнаяПродажаДо20170720</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

//Если Источник.ДатаДок &gt;= '20.07.2017' Тогда
//	Отказ = 1;
//КонецЕсли;


Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 1 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>10</Код>
								<Наименование>Единица --&gt; ЕдиницаИзмерения</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Единица" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
								<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>500</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_ВозвратОтПокупателяДо20170720</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;

//Если Источник.ДатаДок &gt;= '20.07.2017' Тогда
//	Отказ = 1;
//КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 1 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>11</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>УСН_РозничнаяПродажаДо20170720                    </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_РозничныеПродажи</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ДокументБезНДС = ИСТИНА;
Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УСН_ВозвратОтПокупателя</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>17</Код>
							<Наименование>ДокументОснование --&gt; Сделка</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
							<КодПравилаКонвертации>УСН_РозничныеПродажи                              </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Розница_ЕНВД</Код>
				<Наименование>Розница_ЕНВД</Наименование>
				<Порядок>350</Порядок>
				<Правило>
					<Код>ЕНВД_Продажи_неткасс</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ДатаДок &gt;= '20.07.17' Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
//Если Источник.Фирма.Код &lt;&gt; "W0000006" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код &lt;&gt; "810" Тогда  
    Отказ = 0;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");

Объект.ДокументБезНДС = ИСТИНА; 

Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаОрганизации;
//Документы.ОтчетОРозничныхПродажах.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС 	= Перечисления.СтавкиНДС.БезНДС;
	Строка.СчетУчета 	= ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
	Строка.СчетДоходов  = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.01.2");
	Строка.СчетРасходов = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.02.2");
КонецЦикла; 

Объект.СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("000000018");
Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");
Объект.Ответственный = Пользователи.ТекущийПользователь();</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Курс --&gt; КурсДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
							<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<ПередВыгрузкой>Значение = "Розничная выручка";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>18</Код>
							<Наименование>--&gt; Оплата</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Если Источник.Касса.ТипКассы &lt;&gt; Перечисление.ТипКассы.Терминал Тогда
	Отказ = 1;
Иначе
	ТабДокумента = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.НоваяКолонка("СуммаОплаты", "Число");
	ТабДокумента.НоваяСтрока();
	ТабДокумента.СуммаОплаты = Источник.Сумма;
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СуммаОплаты</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = Источник.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕНВД_Продажи</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");

Объект.ДокументБезНДС = ИСТИНА; 

Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаОрганизации;
//Документы.ОтчетОРозничныхПродажах.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС 	= Перечисления.СтавкиНДС.БезНДС;
	Строка.СчетУчета 	= ПланыСчетов.Хозрасчетный.НайтиПоКоду("41.01");
	Строка.СчетДоходов  = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.01.2");
	Строка.СчетРасходов = ПланыСчетов.Хозрасчетный.НайтиПоКоду("90.02.2");
КонецЦикла; 

Объект.СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.НайтиПоКоду("000000018");
Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");
Объект.Ответственный = Пользователи.ТекущийПользователь();</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Документ загружен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Число"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Склад</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ДокументОснование.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Курс --&gt; КурсДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<ПередВыгрузкой>Значение = "Розничная выручка";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
							<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
ТабДокумента1.ВыбратьСтроки();

//Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
	
	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

	ТабДокумента.ВыбратьСтроки();
	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
					
		КонецЕсли;
	КонецЦикла;

Иначе
	
	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

	КоллекцияОбъектов.УдалитьСтроки();

	КоллекцияОбъектов.НоваяКолонка("Сумма");

	ТабДокумента2.ВыбратьСтроки();
	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
		Если ТабДокумента2.Количество &gt; 0 Тогда
			
			КоллекцияОбъектов.НоваяСтрока();
			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
					
		КонецЕсли;
	КонецЦикла;


КонецЕсли;

//КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; Оплата</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Если Источник.Касса.ТипКассы &lt;&gt; Перечисление.ТипКассы.Терминал Тогда
	Отказ = 1;
Иначе
	ТабДокумента = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.НоваяКолонка("СуммаОплаты", "Число");
	ТабДокумента.НоваяСтрока();
	ТабДокумента.СуммаОплаты = Источник.Сумма;
	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
	ТабДокумента.Выгрузить(КоллекцияОбъектов);
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; СуммаОплаты</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>//Значение = Источник.Сумма;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КассовыйЧекРеализацияВалюта</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
//Объект.ДокументБезНДС = ИСТИНА;
//Объект.КратностьВзаиморасчетов = 1;


//Если Объект.Ответственный.Пустая() Тогда
	Объект.Ответственный = Пользователи.ТекущийПользователь();
//КонецЕсли;

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

//Для Каждого Строка из Объект.Товары Цикл
//	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Кассовые чеки реализованные за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "Товары";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ДокументБезНДС</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>14</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>15</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>СуммаПоСтроке --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СуммаПоСтроке" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КассовыйЧекВозвратВалюта</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда 
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.ДокументОснование, 9) = "Расходная" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

//Объект.КратностьВзаиморасчетов = 1;

Для Каждого Строка из Объект.Товары Цикл
	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Возврат по кассовым чекам реализованным за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Кратность;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>//Значение = Источник.ДокументОснование.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>
//ТабДокумента1      = СоздатьОбъект("ТаблицаЗначений");
//Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента1);
//ТабДокумента1.ВыбратьСтроки();

////Пока ТабДокумента1.ПолучитьСтроку() = 1  Цикл

//Если ТабДокумента1.КоличествоСтрок() = 0 Тогда 
//	
//	ТабДокумента      = СоздатьОбъект("ТаблицаЗначений");
//	Источник.ДокументОснование.ВыгрузитьТабличнуюЧасть(ТабДокумента);
//	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
//	ТабДокумента.Выгрузить(КоллекцияОбъектов);

//	КоллекцияОбъектов.УдалитьСтроки();

//	//КоллекцияОбъектов.НоваяКолонка("СуммаТовара");

//	ТабДокумента.ВыбратьСтроки();
//	Пока ТабДокумента.ПолучитьСтроку() = 1 Цикл 
//		Если ТабДокумента.Количество &gt; 0 Тогда
//			
//			КоллекцияОбъектов.НоваяСтрока();
//			КоллекцияОбъектов.Номенклатура        = ТабДокумента.Номенклатура;
//			КоллекцияОбъектов.Количество          = ТабДокумента.Количество;
//			КоллекцияОбъектов.Цена				  = ТабДокумента.Цена;
//			КоллекцияОбъектов.Сумма               = ТабДокумента.Сумма;
//					
//		КонецЕсли;
//	КонецЦикла;

//Иначе
//	
//	ТабДокумента2      = СоздатьОбъект("ТаблицаЗначений");
//	Источник.ВыгрузитьТабличнуюЧасть(ТабДокумента2);
//	КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");
//	ТабДокумента2.Выгрузить(КоллекцияОбъектов);

//	КоллекцияОбъектов.УдалитьСтроки();

//	КоллекцияОбъектов.НоваяКолонка("Сумма");

//	ТабДокумента2.ВыбратьСтроки();
//	Пока ТабДокумента2.ПолучитьСтроку() = 1 Цикл 
//		Если ТабДокумента2.Количество &gt; 0 Тогда
//			
//			КоллекцияОбъектов.НоваяСтрока();
//			КоллекцияОбъектов.Номенклатура        = ТабДокумента2.Номенклатура;
//			КоллекцияОбъектов.Количество          = ТабДокумента2.Количество;
//			КоллекцияОбъектов.Цена				  = ТабДокумента2.Цена;
//			КоллекцияОбъектов.Сумма               = ТабДокумента2.СуммаПоСтроке;
//					
//		КонецЕсли;
//	КонецЦикла;


//КонецЕсли;

////КонецЦикла;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>13</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СуммаПоСтроке --&gt; Сумма</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="СуммаПоСтроке" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; ОтражениеВУСН</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
								<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>20</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значениие = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство Отключить="true">
							<Код>18</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ТоварныйЧекРеализацияВалюта</Код>
					<Наименование>Товарный чек=&gt;Реализация (для валют)</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

//Если Источник.ДатаДок &gt;= '20.07.17' Тогда
//	Отказ = 1;
//КонецЕсли;

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.Ответственный = Пользователи.ТекущийПользователь();

Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
Если Объект.Товары.Количество()&gt; 0 тогда
	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
КонецЕсли;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Товарные чеки реализованные за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>12</Код>
							<Наименование>Фирма --&gt; Организация</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРеализацияТоваров"/>
							<ПередВыгрузкой>Значение = "Товары";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение=1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СуммаВключаетНДС</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>16</Код>
							<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>17</Код>
							<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						</Свойство>
						<Группа>
							<Код>18</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>19</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>24</Код>
								<Наименование>--&gt; СчетДоходов</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>25</Код>
								<Наименование>--&gt; СчетРасходов</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>26</Код>
								<Наименование>--&gt; СчетУчета</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; ДокументБезНДС</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Группа Отключить="true">
							<Код>29</Код>
							<Наименование>--&gt; Услуги</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Услуги" Вид="ТабличнаяЧасть"/>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ТоварныйЧекВозвратВалюта</Код>
					<Наименование>ТоварныйЧекВозвратВалюта</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Проведен()&lt;&gt;1 Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt; 0 Тогда  
    Отказ = 1;
КонецЕсли;

Если Источник.Валюта.Код = "810" Тогда  
    Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
//Объект.ВидОперации  = Перечисления.ВидыОперацийВозвратТоваровОтПокупателя.ПродажаКомиссия;

//Объект.КратностьВзаиморасчетов = 1;

//Для Каждого Строка из Объект.Товары Цикл
	//Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
//КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

Объект.СчетУчетаРасчетовСКонтрагентом    = СчетаУчета.СчетРасчетовПокупателя;
Объект.СчетУчетаРасчетовПоАвансам        = СчетаУчета.СчетАвансовПокупателя;
Объект.СчетУчетаРасчетовПоТаре           = СчетаУчета.СчетУчетаТарыПокупателя;

Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
	Объект.Склад = БухгалтерскийУчетПереопределяемый.ПолучитьЗначениеПоУмолчанию("ОсновнойСклад");
КонецЕсли;

Объект.Ответственный = Пользователи.ТекущийПользователь();

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "#Возврат по товарным чекам реализованным за иностранную валюту.";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Курс --&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Курс" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; Склад</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
							<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>12</Код>
							<Наименование>ТабличнаяЧасть --&gt; Товары</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>17</Код>
								<Наименование>Себестоимость --&gt; Себестоимость</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>Количество --&gt; Количество</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; ОтражениеВУСН</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
								<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>ПлатежныеДокументы</Код>
				<Наименование>ПлатежныеДокументы</Наименование>
				<Порядок>400</Порядок>
				<Правило>
					<Код>ПриходныйКассовыйОрдер</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>2</Код>
							<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = Источник.Комментарий+  "/***/#Документ создан на основании ""Кассового чека"" № " + Источник.НомерДок + " от " + Источник.ДатаДок;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Сумма --&gt; СуммаДокумента</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
							<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; СчетКасса</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>15</Код>
							<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
							<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");

КоллекцияОбъектов.НоваяКолонка("ДоговорКонтрагента");
КоллекцияОбъектов.НоваяКолонка("КратностьВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("КурсВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СпособПогашенияЗадолженности");
КоллекцияОбъектов.НоваяКолонка("СтавкаНДС");
КоллекцияОбъектов.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.НоваяКолонка("СуммаВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СуммаНДС");
КоллекцияОбъектов.НоваяКолонка("СуммаПлатежа");
КоллекцияОбъектов.НоваяКолонка("СчетНаОплату");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");  

КоллекцияОбъектов.НоваяСтрока();

КоллекцияОбъектов.ДоговорКонтрагента = Источник.Договор;
КоллекцияОбъектов.СтатьяДвиженияДенежныхСредств = "Оплата от покупателей";
КоллекцияОбъектов.СуммаПлатежа = Источник.Сумма;   
КоллекцияОбъектов.СтавкаНДС = "БезНДС";
КоллекцияОбъектов.КратностьВзаиморасчетов = 1;
КоллекцияОбъектов.КурсВзаиморасчетов      = 1;
КоллекцияОбъектов.СуммаВзаиморасчетов = Источник.Сумма;
КоллекцияОбъектов.СпособПогашенияЗадолженности = "Автоматически";


КоллекцияОбъектов.СчетУчетаРасчетовПоАвансам     = "62.02";
КоллекцияОбъектов.СчетУчетаРасчетовСКонтрагентом = "62.01";</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; ДоговорКонтрагента</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							</Свойство>
							<Свойство Отключить="true">
								<Код>18</Код>
								<Наименование>--&gt; ДоходыУСН</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоходыУСН" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>21</Код>
								<Наименование>--&gt; ПорядокОтраженияАванса</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПорядокОтраженияАванса" Вид="Реквизит"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>22</Код>
								<Наименование>--&gt; Сделка</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сделка" Вид="Реквизит"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; СуммаПлатежа</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; СчетНаОплату</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетНаОплату" Вид="Реквизит" Тип="ДокументСсылка.СчетНаОплатуПокупателю"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
								<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>31</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РасходныйКассовыйОрдер</Код>
					<Наименование>Документ: Кассовый чек</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 1 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.КассовыйЧек</Источник>
					<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаДок --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>2</Код>
							<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДокументОснование" Вид="Реквизит"/>
							<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЗНАЧЕНИЕ = Источник.Комментарий+  "/***/#Документ создан на основании ""Кассового чека"" № " + Источник.НомерДок + " от " + Источник.ДатаДок;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>НомерДок --&gt; Номер</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Проведен</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Автор --&gt; Ответственный</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Валюта --&gt; ВалютаДокумента</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Договор --&gt; ДоговорКонтрагента</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Подразделение --&gt; ПодразделениеОрганизации</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
							<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Сумма --&gt; СуммаДокумента</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВидОперации</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
							<ПередВыгрузкой>Значение = "ВозвратПокупателю";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; СтавкаНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; СчетКасса</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>16</Код>
							<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = СоздатьОбъект("ТаблицаЗначений");

КоллекцияОбъектов.НоваяКолонка("ДоговорКонтрагента");
КоллекцияОбъектов.НоваяКолонка("КратностьВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("КурсВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СпособПогашенияЗадолженности");
КоллекцияОбъектов.НоваяКолонка("СтавкаНДС");
КоллекцияОбъектов.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
КоллекцияОбъектов.НоваяКолонка("СуммаВзаиморасчетов");
КоллекцияОбъектов.НоваяКолонка("СуммаНДС");
КоллекцияОбъектов.НоваяКолонка("СуммаПлатежа");
КоллекцияОбъектов.НоваяКолонка("СчетНаОплату");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
КоллекцияОбъектов.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");  

КоллекцияОбъектов.НоваяСтрока();

КоллекцияОбъектов.ДоговорКонтрагента = Источник.Договор;
КоллекцияОбъектов.СтатьяДвиженияДенежныхСредств = "Возврат покупателям";
КоллекцияОбъектов.СуммаПлатежа = Источник.Сумма;   
КоллекцияОбъектов.СтавкаНДС = "БезНДС";
КоллекцияОбъектов.КратностьВзаиморасчетов = 1;
КоллекцияОбъектов.КурсВзаиморасчетов      = 1;
КоллекцияОбъектов.СуммаВзаиморасчетов = Источник.Сумма;
КоллекцияОбъектов.СпособПогашенияЗадолженности = "Автоматически";


КоллекцияОбъектов.СчетУчетаРасчетовПоАвансам     = "62.02";
КоллекцияОбъектов.СчетУчетаРасчетовСКонтрагентом = "62.01";</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>19</Код>
								<Наименование>--&gt; РаспределятьРасходыУСН</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РаспределятьРасходыУСН" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>20</Код>
								<Наименование>--&gt; РасходыУСН</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасходыУСН" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>--&gt; СтавкаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>25</Код>
								<Наименование>--&gt; СуммаНДС</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; СуммаПлатежа</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; СчетНаОплату</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетНаОплату" Вид="Реквизит" Тип="ДокументСсылка.СчетНаОплатуПоставщика"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>--&gt; ДоговорКонтрагента</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РКО_ТЧ</Код>
					<Наименование>Документ: Товарный чек</Наименование>
					<Порядок>350</Порядок>
					<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();

Если Источник.ЧекНаВозврат &lt;&gt; 0 Тогда
	Отказ = 1;
КонецЕсли;
	
Если Источник.Проведен()&lt;&gt;1  Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.Фирма.Код &lt;&gt; "W0000004" Тогда
	Отказ = 1;
КонецЕсли;

Если Источник.ПродажаУСН &lt;&gt;1 Тогда  
    Отказ = 1;
КонецЕсли;

Если Лев(Источник.Касса, 5)&lt;&gt;"Касса" Тогда
	 Отказ = 1;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");</ПослеЗагрузки>
					<Источник>ДокументСсылка.ТоварныйЧек</Источник>
					<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
					<Свойства/>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>50</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ПослеЗагрузки>Если Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ПустаяСсылка() Тогда
	
	Если СтрДлина(Объект.ИНН) &lt; Число("11") Тогда
		Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ЮридическоеЛицо;
	Иначе
		Объект.ЮридическоеФизическоеЛицо = Перечисления.ЮридическоеФизическоеЛицо.ФизическоеЛицо;
	КонецЕсли;
	
КонецЕсли;

Если НЕ Объект.ЭтоГруппа Тогда
	Объект.ГоловнойКонтрагент = Объект.Ссылка;
КонецЕсли;

Если Объект.СтранаРегистрации = Справочники.СтраныМира.ПустаяСсылка() Тогда
	Объект.СтранаРегистрации = Справочники.СтраныМира.НайтиПоКоду("643");
КонецЕсли;</ПослеЗагрузки>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>--&gt; ИНН</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 0 Тогда
	Если Найти(Источник.ИНН, "\") &lt;&gt; 0 Тогда
		Значение = Лев(Источник.ИНН, Найти(Источник.ИНН, "\") - 1);  
	ИначеЕсли Найти(Источник.ИНН, "/") &lt;&gt; 0 Тогда
		Значение = Лев(Источник.ИНН, Найти(Источник.ИНН, "/") - 1); 
	Иначе
		Значение = СокрЛП(Источник.ИНН); 		
	КонецЕсли;
Иначе
	Отказ = 1;  	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Справочник перенесен из 1С 7.7:Альфа-Авто";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; КПП</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 0 Тогда
	Если Найти(Источник.ИНН, "\") &lt;&gt; 0 Тогда
		Значение = Сред(Источник.ИНН, Найти(Источник.ИНН, "\") + 1);
	ИначеЕсли Найти(Источник.ИНН, "/") &lt;&gt; 0 Тогда
		Значение = Сред(Источник.ИНН, Найти(Источник.ИНН, "/") + 1);		
	Иначе
		Значение = ""; 		
	КонецЕсли;
Иначе
	Отказ = 1;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Пользователи</Код>
				<Наименование>Справочник: Пользователи</Наименование>
				<Порядок>100</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.Пользователи</Источник>
				<Приемник>СправочникСсылка.Пользователи</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>Справочник: Валюты</Наименование>
				<Порядок>150</Порядок>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.Валюты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Если Источник.Код = "810" Тогда
	Значение = "643"
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Номенклатура</Код>
				<Наименование>Справочник: Номенклатура</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Номенклатура</Источник>
				<Приемник>СправочникСсылка.Номенклатура</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ВидНоменклатуры --&gt; ВидНоменклатуры</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
						<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
						<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>--&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Если ВРЕГ(Лев(Источник.Код, 5))&lt;&gt;ВРЕГ(Лев(Источник.Наименование, 5)) Тогда 
	Значение = Источник.Код+" "+Источник.Наименование;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Производитель --&gt; Производитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Производитель" Вид="Реквизит" Тип="СправочникСсылка.Производители"/>
						<Приемник Имя="Производитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>8</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>БазоваяЕдиница --&gt; ЕдиницаИзмерения</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="БазоваяЕдиница" Вид="Реквизит" Тип="СправочникСсылка.БазовыеЕдиницы"/>
						<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; ВидСтавкиНДС</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидСтавкиНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСтавокНДС"/>
						<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Код --&gt; Артикул</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; Комментарий</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = "#Загружено из 1С 7.7:Альфа-Авто"</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>14</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; Услуга</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Услуга" Вид="Реквизит" Тип="Булево"/>
						<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ВидНоменклатуры.Код ="00000005" Тогда
	Значение = 1;
Иначе
	Значение = 0;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>16</Код>
						<Наименование>--&gt; ВидСтавкиНДС</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидСтавкиНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСтавокНДС"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыНоменклатуры</Код>
				<Наименование>Справочник: Виды номенклатуры</Наименование>
				<Порядок>250</Порядок>
				<Источник>СправочникСсылка.ВидыНоменклатуры</Источник>
				<Приемник>СправочникСсылка.ВидыНоменклатуры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>ЗНАЧЕНИЕ = 0;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Справочник: Ставки НДС</Наименование>
				<Порядок>300</Порядок>
				<ПослеВыгрузки>	Если Источник.Ставка = 10 Тогда  
		
		УзелСсылки = "НДС10";
	 
	ИначеЕсли Источник.Ставка = 18 тогда
	 
	   	УзелСсылки = "НДС18";
	 
	Иначе 
		
		УзелСсылки = "БезНДС";
	 
	КонецЕсли;
	 
	Отказ = 1;</ПослеВыгрузки>
				<Источник>СправочникСсылка.СтавкиНДС</Источник>
				<Приемник>ПеречислениеСсылка.СтавкиНДС</Приемник>
				<Свойства/>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КлассификаторЕдиницИзмерения</Код>
				<Наименование>Справочник: Базовые единицы</Наименование>
				<Порядок>350</Порядок>
				<Источник>СправочникСсылка.БазовыеЕдиницы</Источник>
				<Приемник>СправочникСсылка.КлассификаторЕдиницИзмерения</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Склады</Код>
				<Наименование>Справочник: Подразделения</Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.Подразделения</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ТипСклада --&gt; ТипСклада</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<КодПравилаКонвертации>ТипыСкладов                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Отключить="true" Обязательное="true">
						<Код>6</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>Справочник: Договоры с контрагентами</Наименование>
				<Порядок>450</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<ПослеЗагрузки>Объект.Организация  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидДоговора  = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
Если Объект.ВалютаВзаиморасчетов.Код = "810" Тогда
	 Объект.ВалютаВзаиморасчетов.Код = "643"
КонецЕсли;</ПослеЗагрузки>
				<Источник>СправочникСсылка.Договоры</Источник>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Валюта --&gt; ВалютаВзаиморасчетов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа() = 1 Тогда
	Отказ = 1;	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>--&gt; ВидДоговора</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Банки</Код>
				<Наименование>Справочник: Банки</Наименование>
				<Порядок>500</Порядок>
				<Источник>СправочникСсылка.Банки</Источник>
				<Приемник>СправочникСсылка.Банки</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Телефоны --&gt; Телефоны</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>НомераГТД</Код>
				<Наименование>Справочник: Таможеннные декларации</Наименование>
				<Порядок>550</Порядок>
				<ПередВыгрузкой>Отказ = Источник.ПометкаУдаления();</ПередВыгрузкой>
				<Источник>СправочникСсылка.ГТД</Источник>
				<Приемник>СправочникСсылка.НомераГТД</Приемник>
				<Свойства>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ГТД"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НомераГТД"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Наименование --&gt; Код</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтраныМира</Код>
				<Наименование>Справочник: Страны</Наименование>
				<Порядок>600</Порядок>
				<Источник>СправочникСсылка.Страны</Источник>
				<Приемник>СправочникСсылка.СтраныМира</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПодразделенияОрганизаций</Код>
				<Наименование>Справочник: Подразделения</Наименование>
				<Порядок>650</Порядок>
				<Источник>СправочникСсылка.Подразделения</Источник>
				<Приемник>СправочникСсылка.ПодразделенияОрганизаций</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Число"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПолнНаименование --&gt; НаименованиеПолное</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Фирма --&gt; ГоловнаяОрганизация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Фирма" Вид="Реквизит" Тип="СправочникСсылка.Фирмы"/>
						<Приемник Имя="ГоловнаяОрганизация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ТипыСкладов</Код>
				<Наименование>Перечисление: Типы складов</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ТипыСкладов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыСкладов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Оптовый --&gt; ОптовыйСклад</Наименование>
						<Порядок>50</Порядок>
						<Источник>Оптовый</Источник>
						<Приемник>ОптовыйСклад</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Розничный --&gt; РозничныйМагазин</Наименование>
						<Порядок>100</Порядок>
						<Источник>Розничный</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Цех --&gt; РозничныйМагазин</Наименование>
						<Порядок>150</Порядок>
						<Источник>Цех</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Правило>
			<Код>ПродажиЧастноеЛицо</Код>
			<Наименование>ПродажиЧастноеЛицо</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация  	  = Справочники.Организации.НайтиПоКоду("00-000001");
Объект.ВидОперации 		  = Перечисления.ВидыОперацийРеализацияТоваров.Товары;
Объект.БанковскийСчетОрганизации = Справочники.БанковскиеСчета.НайтиПоКоду("00-000001");
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");   
Объект.ДокументБезНДС 	  = ИСТИНА;
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
Объект.Склад 		 	  = Справочники.Склады.НайтиПоКоду("W0000004");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка из Объект.Товары Цикл
	Строка.Цена = Строка.Сумма / Строка.Количество;
КонецЦикла;

//Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаРасчетов(Объект);
//Если Объект.Товары.Количество()&gt; 0 тогда
//	Документы.РеализацияТоваровУслуг.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект,"Товары");
//КонецЕсли;

//Для Каждого Строка из Объект.Товары Цикл
//	Строка.СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//КонецЦикла;

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары") + УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Услуги");
Объект.СпособЗачетаАвансов = Перечисления.СпособыЗачетаАвансов.Автоматически;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
			<Свойства>
				<Свойство>
					<Код>1</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>50</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>4</Код>
					<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.02";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>300</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>350</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Коэффициент</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>18</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ВозвратТоваровЕНВД</Код>
			<Наименование>ВозвратТоваровЕНВД</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация   	  = Справочники.Организации.НайтиОрганизацию("3906137169"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Склад 		 	  = Справочники.Склады.НайтиПоКоду("W0000004");       
Объект.Ответственный  	  = Пользователи.ТекущийПользователь();
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Для Каждого Строка из Объект.Товары Цикл   
	
	Строка.Цена = Строка.Сумма / Строка.Количество;
	
	Запрос = Новый Запрос;
	Запрос.Текст = "ВЫБРАТЬ ПЕРВЫЕ 1
			|	ПоступлениеТоваровУслугТовары.Номенклатура КАК Номенклатура,
			|	ПоступлениеТоваровУслугТовары.Цена КАК Цена,
			|	КурсыВалют.Курс КАК Курс,
			|	ВЫБОР
			|		КОГДА КурсыВалют.Курс &gt; 1
			|			ТОГДА ПоступлениеТоваровУслугТовары.Цена * КурсыВалют.Курс
			|		ИНАЧЕ ПоступлениеТоваровУслугТовары.Цена
			|	КОНЕЦ КАК Себестоимость
			|ИЗ
			|	Документ.ПоступлениеТоваровУслуг.Товары КАК ПоступлениеТоваровУслугТовары
			|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют КАК КурсыВалют
			|		ПО (ПоступлениеТоваровУслугТовары.Ссылка.ВалютаДокумента = КурсыВалют.Валюта)
			|ГДЕ
			|	ПоступлениеТоваровУслугТовары.Номенклатура = &amp;Номенклатура1
			|	И ПоступлениеТоваровУслугТовары.Ссылка.Дата  &lt;= &amp;Период
			|	И КурсыВалют.Период = &amp;Период
			|
			|УПОРЯДОЧИТЬ ПО
			|	ПоступлениеТоваровУслугТовары.Ссылка УБЫВ
			|АВТОУПОРЯДОЧИВАНИЕ";
	Запрос.УстановитьПараметр("Номенклатура1", Строка.Номенклатура.Ссылка);
	Запрос.УстановитьПараметр("Период", Объект.Дата);
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		Строка.Себестоимость = Выборка.Себестоимость;
	КонецЕсли;

КонецЦикла;

Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; Контрагент</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>3</Код>
					<Наименование>--&gt; Организация</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Склад</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>300</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>350</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение= "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>16</Код>
						<Наименование>--&gt; Цена</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; ОтражениеВУСН</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ОтражениеВУСН" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтражениеВУСН"/>
						<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>--&gt; Себестоимость</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Себестоимость" Вид="Реквизит" Тип="Число"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>19</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийВозвратТоваровОтПокупателя"/>
					<ПередВыгрузкой>Значение = "ПродажаКомиссия";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>20</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>500</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>21</Код>
					<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
					<Порядок>550</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.21";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>22</Код>
					<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "62.22";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>23</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>650</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ОтчетОРозничныхПродажах_Общий</Код>
			<Наименование>ОтчетОРозничныхПродажах_Общий</Наименование>
			<Порядок>400</Порядок>
			<ПослеЗагрузки>Объект.Организация     = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента = Справочники.Валюты.НайтиПоКоду("643");
Объект.ТипЦен		   = Справочники.ТипыЦенНоменклатуры.НайтиПоНаименованию("Розничная цена");
//Объект.ВалютаДокумента = Справочники.Валюты.НайтиПоКоду("810");   
Объект.Склад           = Справочники.Склады.НайтиПоКоду("W0000004");       
Объект.Ответственный   = Пользователи.ТекущийПользователь();

Для Каждого Строка из Объект.Товары Цикл
	//Строка.ОтражениеВУСН =  Перечисления.ОтражениеВУСН.НеПринимаются;
	Строка.Цена = Строка.Сумма / Строка.Количество;
КонецЦикла;

Если Объект.Оплата.Количество()&gt;0 Тогда
	Для Каждого Стр из Объект.Оплата Цикл
		Стр.ВидОплаты   = Справочники.ВидыОплатОрганизаций.НайтиПоНаименованию("Эквайринг");
	КонецЦикла
КонецЕсли;

//Документы.ВозвратТоваровОтПокупателя.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект, "Товары");

//Если НЕ ЗначениеЗаполнено(Объект.Склад) Тогда
//	Объект.Склад = Справочники.Склады.НайтиПоНаименованию("Основной")
//КонецЕсли;


Объект.СуммаДокумента = УчетНДСПереопределяемый.ПолучитьСуммуДокументаСНДС(Объект, "Товары");</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; ВалютаДокумента</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийОтчетОРозничныхПродажах"/>
					<ПередВыгрузкой>Значение = "ОтчетККМОПродажах";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; ДокументБезНДС</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ДокументБезНДС" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Организация</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>5</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>6</Код>
					<Наименование>--&gt; Склад</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство>
					<Код>16</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>17</Код>
					<Наименование>--&gt; Ответственный</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>18</Код>
					<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
					<Порядок>500</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; Товары</Наименование>
					<Порядок>550</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Количество</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Номенклатура</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<ПередВыгрузкой>Значение= "БезНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Сумма</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = "0";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СчетУчета</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчета" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "41.01";</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>15</Код>
						<Наименование>--&gt; Цена</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>//Значение = ВходящиеДанные.Получить("Сумма")/ВходящиеДанные.Получить("Количество");</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>--&gt; СчетДоходов</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетДоходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.01.2";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>--&gt; СчетРасходов</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетРасходов" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "90.02.2";</ПередВыгрузкой>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>19</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Группа>
					<Код>20</Код>
					<Наименование>--&gt; Оплата</Наименование>
					<Порядок>650</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; СуммаОплаты</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>27</Код>
						<Наименование>--&gt; ВидОплаты</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатОрганизаций"/>
						<ПередВыгрузкой>Значение = "Эквайринг";</ПередВыгрузкой>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>22</Код>
					<Наименование>--&gt; КратностьДокумента</Наименование>
					<Порядок>700</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="КратностьДокумента" Вид="Реквизит" Тип="Число"/>
					<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>23</Код>
					<Наименование>--&gt; СуммаВключаетНДС</Наименование>
					<Порядок>750</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
				</Свойство>
				<Свойство>
					<Код>24</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>800</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>28</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>850</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>ПКО_Общий</Код>
			<Наименование>:</Наименование>
			<Порядок>450</Порядок>
			<ПослеЗагрузки>Объект.Организация 		  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка Из Объект.РасшифровкаПлатежа Цикл
	Строка.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
КонецЦикла;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
			<Свойства>
				<Свойство Отключить="true">
					<Код>1</Код>
					<Наименование>--&gt; ВалютаДокумента</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
					<ПередВыгрузкой>Значение = "ОплатаПокупателя";</ПередВыгрузкой>
				</Свойство>
				<Свойство Отключить="true">
					<Код>3</Код>
					<Наименование>--&gt; ДоговорКонтрагента</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
					<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
				</Свойство>
				<Свойство Отключить="true">
					<Код>4</Код>
					<Наименование>--&gt; Контрагент</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Контрагент" Вид="Реквизит"/>
					<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>250</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; СтавкаНДС</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; СуммаДокумента</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
				</Свойство>
				<Свойство>
					<Код>8</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>400</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>9</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>450</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Свойство Отключить="true">
					<Код>10</Код>
					<Наименование>--&gt; Номер</Наименование>
					<Порядок>500</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>11</Код>
					<Наименование>--&gt; ПометкаУдаления</Наименование>
					<Порядок>550</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>12</Код>
					<Наименование>--&gt; Проведен</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
				</Свойство>
				<Группа>
					<Код>13</Код>
					<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
					<Порядок>650</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
					<Свойство Отключить="true">
						<Код>14</Код>
						<Наименование>--&gt; ДоговорКонтрагента</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
						<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>--&gt; СуммаПлатежа</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
				</Группа>
				<Свойство>
					<Код>25</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>700</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Правило>
			<Код>РКО_Общий</Код>
			<Наименование>:</Наименование>
			<Порядок>450</Порядок>
			<ПослеЗагрузки>Объект.Организация 		  = Справочники.Организации.НайтиПоКоду("00-000001"); 
Объект.ВалютаДокумента 	  = Справочники.Валюты.НайтиПоКоду("643");
Объект.Контрагент     	  = Справочники.Контрагенты.НайтиПоНаименованию("ЧАСТНОЕ ЛИЦО (клиент)");
Объект.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");

Объект.Ответственный 	  = Пользователи.ТекущийПользователь();

Для Каждого Строка Из Объект.РасшифровкаПлатежа Цикл
	Строка.ДоговорКонтрагента = Справочники.ДоговорыКонтрагентов.НайтиПоНаименованию("Наличные расчеты с фирмой АВТОЗАП склад (новый)");
КонецЦикла;</ПослеЗагрузки>
			<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
			<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
			<Свойства>
				<Свойство>
					<Код>1</Код>
					<Наименование>--&gt; ВидОперации</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
					<ПередВыгрузкой>Значение = "ВозвратПокупателю";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>--&gt; Комментарий</Наименование>
					<Порядок>100</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>--&gt; ПодразделениеОрганизации</Наименование>
					<Порядок>150</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ПодразделениеОрганизации" Вид="Реквизит" Тип="СправочникСсылка.ПодразделенияОрганизаций"/>
				</Свойство>
				<Свойство>
					<Код>4</Код>
					<Наименование>--&gt; СтавкаНДС</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					<ПередВыгрузкой>Значение = "БезНДС";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>--&gt; СуммаДокумента</Наименование>
					<Порядок>250</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>--&gt; СчетКасса</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="СчетКасса" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					<ПередВыгрузкой>Значение = "50.01";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>--&gt; Дата</Наименование>
					<Порядок>350</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
				</Свойство>
				<Группа>
					<Код>8</Код>
					<Наименование>--&gt; РасшифровкаПлатежа</Наименование>
					<Порядок>400</Порядок>
					<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; КратностьВзаиморасчетов</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КратностьВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>--&gt; СпособПогашенияЗадолженности</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СпособПогашенияЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПогашенияЗадолженности"/>
						<ПередВыгрузкой>Значение = "Автоматически";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; СтавкаНДС</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; СтатьяДвиженияДенежныхСредств</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; СуммаВзаиморасчетов</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; СуммаНДС</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>--&gt; СуммаПлатежа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>--&gt; СчетУчетаРасчетовПоАвансам</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовПоАвансам" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; СчетУчетаРасчетовСКонтрагентом</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетУчетаРасчетовСКонтрагентом" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
				</Группа>
			</Свойства>
			<Значения/>
		</Правило>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Группа Отключить="false">
				<Код>ПоступленияТоваровИУслуг</Код>
				<Наименование>ПоступленияТоваровИУслуг</Наименование>
				<Порядок>50</Порядок>
				<Правило Отключить="false">
					<Код>ПоступлениеУслуг</Код>
					<Наименование>ПоступлениеУслуг</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ПоступлениеУслуг                                  </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПоступлениеТоваров</Код>
					<Наименование>ПоступлениеТоваровУслуг</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПриходнаяНаРеализацию</Код>
					<Наименование>ПриходнаяНаРеализацию</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>ПоступлениеНаРеализацию                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНаРеализацию</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПеремещениеФилиал</Код>
					<Наименование>ПеремещениеФилиал</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>ПеремещениеФилиалов                               </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПеремещениеФилиал</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПоступлениеДопРасходов</Код>
					<Наименование>Поступление доп.расходов</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ПоступлениеДопРасходов                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ПриходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратРеализатораПоставщику</Код>
					<Наименование>ВозвратРеализатораПоставщику</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровПоставщику                          </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ВозвратРеализатораПоставщику</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Реализация</Код>
				<Наименование>Реализация                                        </Наименование>
				<Порядок>100</Порядок>
				<Правило Отключить="false">
					<Код>РасходнаяНакладная</Код>
					<Наименование>РасходнаяНакладная</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>РеализацияТоваровУслуг                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.РасходнаяНакладная</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>УСН_Продажа</Код>
					<Наименование>УСН_Продажа</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>УСН_РозничныеПродажи                              </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>УСН_Возврат</Код>
					<Наименование>УСН_Возврат</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>УСН_ВозвратОтПокупателя                           </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратПокупателя</Код>
					<Наименование>ВозвратПокупателя</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровОтПокупателя                        </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ВозвратПокупателя</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ПлатежныеДокументы</Код>
				<Наименование>ПлатежныеДокументы</Наименование>
				<Порядок>150</Порядок>
				<Правило Отключить="false">
					<Код>ПриходныйКассовыйОрдер_Чеки</Код>
					<Наименование>ПриходныйКассовыйОрдер_Чеки</Наименование>
					<Порядок>750</Порядок>
					<КодПравилаКонвертации>ПриходныйКассовыйОрдер                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>РасходныйКассовыйОрдер_Чеки</Код>
					<Наименование>РасходныйКассовыйОрдер_Чеки</Наименование>
					<Порядок>800</Порядок>
					<КодПравилаКонвертации>РасходныйКассовыйОрдер                            </КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Общие</Код>
				<Наименование>Общие</Наименование>
				<Порядок>200</Порядок>
				<Правило Отключить="false">
					<Код>ЗаказНарядыНаличныеРубли</Код>
					<Наименование>ЗаказНарядыНаличныеРубли</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "  
				|SELECT 
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,   
				|	OrderLine.SP4350 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP
				|
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'    
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура, 
				|	-OrderLine.SP4350 AS Количество,    
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -OrderLine.SP4354 
				|		ELSE -(OrderLine.SP4354*OrderZ.SP141)
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine 
				|INNER JOIN  
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE 
				|	Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND 
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' 
				|		AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Заказ-наряд =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ЗаказНарядыТерминалРубли</Код>
					<Наименование>ЗаказНарядыТерминалРубли</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	 ТекстЗапроса = "
				|SELECT 
				|	OrderZ.IDDoc AS  [Doc $Документ.ЗаказНаряд], 
				|	RIGHT(OrderLine.SP4349, 9) AS [Номенклатура $Справочник.Номенклатура],  
				|	OrderLine.SP4350 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма,
				|	OrderZ.SP5847 AS Возврат,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы  
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час'
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR LIKE '%Руб%' 
				|";
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#ЗаказНаряд =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратЗаказНарядыНаличныеРубли</Код>
					<Наименование>ВозвратЗаказНарядыНаличныеРубли</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable1");
	
	ТекстЗапроса = "  
				|SELECT 
				|	OrderZ.IDDoc AS Doc,
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,   
				|	OrderLine.SP4350 AS Количество, 				
				//|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP
				|
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				//|LEFT JOIN 
				//|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'    
				|
				|UNION 
				|
				|SELECT  
				|	OrderZ.IDDoc AS Doc,
				|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура, 
				|	-OrderLine.SP4350 AS Количество,    
				//|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -OrderLine.SP4354 
				|		ELSE -(OrderLine.SP4354*OrderZ.SP141)
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine 
				|INNER JOIN  
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				//|LEFT JOIN 
				//|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE 
				|	Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND 
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' 
				|		AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное' AND Cy.DESCR  LIKE '%Руб%'
				|";
	
	//ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT  
				|	#TMP.Doc AS [Doc $Документ.ЗаказНаряд],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = #TMP.Doc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Заказ-наряд =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		    		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable1");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратЗаказНарядыТерминалРубли</Код>
					<Наименование>ВозвратЗаказНарядыТерминал</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"
			|SELECT 
			|	OrderZ.IDDoc AS Doc, 
			|	RIGHT(OrderLine.SP4349, 9) AS Номенклатура,  
			|	OrderLine.SP4350 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/OrderLine.SP4350) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN OrderLine.SP4354
			|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
			|		END  Сумма,
			|	OrderZ.SP5847 AS Возврат,  
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы  
			|
			|INTO #TMP
			|
			|FROM 
			|	$ДокументСтроки.ЗаказНаряд AS OrderLine
			|INNER JOIN 
			|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = OrderZ.IDDoc AND Movies.SP456 = RIGHT(OrderLine.SP4349, 9)
			|LEFT JOIN 
			|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351
			|LEFT JOIN 
			|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час'
			|		AND  ProductName.DESCR NOT LIKE 'Масло моторное'
			|";  
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";

	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#ЗаказНаряд =&gt; Возврат покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КассовыеЧекиНаличныеРубли</Код>
					<Наименование>КассовыеЧекиНаличныеРубли</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
		
		пДатаНачала = п1ДатаОкончания;
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КассовыеЧекиТерминалРубли</Код>
					<Наименование>КассовыеЧекиТерминалРубли</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекстЗапроса = 	"SELECT   
				|	ProductCheck.IDDoc AS  [Doc $Документ.КассовыйЧек],
				|	RIGHT(ProductCheckLine.SP7232, 9) AS [Номенклатура $Справочник.Номенклатура],
				|	ProductCheckLine.SP7233 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма,
				|	ProductCheck.SP5358 AS Возврат, 
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы     	
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP7130 = 0 AND ProductCheck.SP5358 = 0 AND Cy.DESCR LIKE '%Руб%'						
				|";  
	
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратКассовыеЧекиНаличные</Код>
					<Наименование>ВозвратКассовыеЧекиНаличные</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
		ТекстЗапроса = "
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	RIGHT(ProductCheck.SP138, 9) AS Base,
				|	
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT 
				|	ProductCheck.IDDoc AS Doc,
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	RIGHT(ProductCheck.SP138, 9) AS Base,    
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);

	 ЗапросТемп = "
				|SELECT       
				|	#TMP.Base AS [Doc $Документ.ТоварныйЧек],
				|	#TMP.Doc AS [Doc $Документ.КассовыйЧек],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|
				|LEFT JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck_1 ON ProductCheck_1.IDDoc = #TMP.Base 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck_1.IDDoc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998, Base
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;

	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовые чеки =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВозвратКассовыеЧекиТерминал</Код>
					<Наименование>ВозвратКассовыеЧекиТерминал</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"SELECT   
			|	ProductCheck.IDDoc AS Doc,
			|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
			|	ProductCheckLine.SP7233 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP7233) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN ProductCheckLine.SP7237
			|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
			|		END  Сумма,
			|	ProductCheck.SP5358 AS Возврат, 
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы
			|
			|INTO #TMP
			|
			|FROM  
			|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
			|INNER JOIN 
			|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
			|LEFT JOIN 
			|	$Документ.ТоварныйЧек AS ProductCheck_1 ON ProductCheck_1.IDDoc = RIGHT(ProductCheck.SP138, 9) 
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck_1.IDDoc AND Movies.SP456 = RIGHT(ProductCheckLine.SP7232, 9)
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP7130 = 0 AND ProductCheck.SP5358 = 1						
			|
			|"; 
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";
	
	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Кассовый Чек =&gt; Возврат товаров от покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ПКО_ОбщиеЧеки</Код>
					<Наименование>ПКО_ОбщиеЧеки</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>ПКО_Общий                                         </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Place AS [Place $Справочник.Подразделения],
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Place
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		
		РасшифровкаПлатежа = СоздатьОбъект("ТаблицаЗначений");
		РасшифровкаПлатежа.НоваяКолонка("КратностьВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("КурсВзаиморасчетов");
		//РасшифровкаПлатежа.НоваяКолонка("СпособПогашенияЗадолжености");
		РасшифровкаПлатежа.НоваяКолонка("СтавкаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
		РасшифровкаПлатежа.НоваяКолонка("СуммаВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("СуммаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");
		РасшифровкаПлатежа.НоваяКолонка("СуммаПлатежа");
		
		РасшифровкаПлатежа.НоваяСтрока();		
		РасшифровкаПлатежа.СуммаПлатежа         		  = ПродажаЧЛ.Сумма;
		РасшифровкаПлатежа.КратностьВзаиморасчетов 		  = 1;
		РасшифровкаПлатежа.КурсВзаиморасчетов	  		  = 1;	
		//РасшифровкаПлатежа.СпособПогашенияЗадолжености 	  = "Автоматически";
		РасшифровкаПлатежа.СтавкаНДС                   	  = "БезНДС";
		РасшифровкаПлатежа.СтатьяДвиженияДенежныхСредств  = "Оплата от покупателей";
		РасшифровкаПлатежа.СуммаНДС                       = 0;
		РасшифровкаПлатежа.СуммаВзаиморасчетов            = ПродажаЧЛ.Сумма;  
		РасшифровкаПлатежа.СчетУчетаРасчетовПоАвансам     = "62.02";
		РасшифровкаПлатежа.СчетУчетаРасчетовСКонтрагентом = "62.01";
				
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("ПодразделениеОрганизации", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("СуммаДокумента", ПродажаЧЛ.Сумма);
		ИсходящиеДанные.Установить("Комментарий", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("РасшифровкаПлатежа", РасшифровкаПлатежа);
				
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПКО_Общий");
		                                       		
		//пДатаНачала = п1ДатаОкончания;
		              		
	КонецЦикла;	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>РКО_ОбщиеЧеки</Код>
					<Наименование>РКО_ОбщиеЧеки</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>РКО_Общий                                         </КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	             //здесь
	ТекстЗапроса = "
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура,
				|	ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP7237
				|		ELSE (ProductCheckLine.SP7237*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 0 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	RIGHT(ProductCheckLine.SP7232, 9) AS Номенклатура, 
				|	-ProductCheckLine.SP7233 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	Jur.SP3863 AS Place,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP7237 
				|		ELSE -(ProductCheckLine.SP7237*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.КассовыйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.КассовыйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP4374
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP5358 = 1 AND ProductCheck.SP7130 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Place AS [Place $Справочник.Подразделения],
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Place
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		
		РасшифровкаПлатежа = СоздатьОбъект("ТаблицаЗначений");
		РасшифровкаПлатежа.НоваяКолонка("КратностьВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("КурсВзаиморасчетов");
		//РасшифровкаПлатежа.НоваяКолонка("СпособПогашенияЗадолжености");
		РасшифровкаПлатежа.НоваяКолонка("СтавкаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СтатьяДвиженияДенежныхСредств");
		РасшифровкаПлатежа.НоваяКолонка("СуммаВзаиморасчетов");
		РасшифровкаПлатежа.НоваяКолонка("СуммаНДС");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовПоАвансам");
		РасшифровкаПлатежа.НоваяКолонка("СчетУчетаРасчетовСКонтрагентом");
		РасшифровкаПлатежа.НоваяКолонка("СуммаПлатежа");
		
		РасшифровкаПлатежа.НоваяСтрока();		
		РасшифровкаПлатежа.СуммаПлатежа         		  = -ПродажаЧЛ.Сумма;
		РасшифровкаПлатежа.КратностьВзаиморасчетов 		  = 1;
		РасшифровкаПлатежа.КурсВзаиморасчетов	  		  = 1;	
		//РасшифровкаПлатежа.СпособПогашенияЗадолжености 	  = "Автоматически";
		РасшифровкаПлатежа.СтавкаНДС                   	  = "БезНДС";
		РасшифровкаПлатежа.СтатьяДвиженияДенежныхСредств  = "Возврат покупателям";
		РасшифровкаПлатежа.СуммаНДС                       = 0;
		РасшифровкаПлатежа.СуммаВзаиморасчетов            = -ПродажаЧЛ.Сумма;  
		РасшифровкаПлатежа.СчетУчетаРасчетовПоАвансам     = "62.02";
		РасшифровкаПлатежа.СчетУчетаРасчетовСКонтрагентом = "62.01";
				
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("ПодразделениеОрганизации", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("СуммаДокумента", -ПродажаЧЛ.Сумма);
		ИсходящиеДанные.Установить("Комментарий", ПродажаЧЛ.Place);
		ИсходящиеДанные.Установить("РасшифровкаПлатежа", РасшифровкаПлатежа);
				
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "РКО_Общий");
		                                       		
		//пДатаНачала = п1ДатаОкончания;
		              		
	КонецЦикла;	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Правило Отключить="false">
				<Код>ТоварныйЧек</Код>
				<Наименование>ТоварныйЧек</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>РКО_ТЧ                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="true">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="true">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Пользователи</Код>
				<Наименование>Пользователи</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Номенклатура</Код>
				<Наименование>Номенклатура</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВидыНоменклатуры</Код>
				<Наименование>ВидыНоменклатуры</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ВидыНоменклатуры                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыНоменклатуры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>СтавкиНДС</Код>
				<Наименование>СтавкиНДС</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтавкиНДС</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>БазовыеЕдиницы</Код>
				<Наименование>БазовыеЕдиницы</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БазовыеЕдиницы</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Подразделения</Код>
				<Наименование>Подразделения</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Подразделения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Договоры</Код>
				<Наименование>Договоры</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Договоры</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Банки</Код>
				<Наименование>Банки</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Банки</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ГТД</Код>
				<Наименование>ГТД</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>НомераГТД                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ГТД</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Страны</Код>
				<Наименование>Страны</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Страны</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>Подразделения00001</Код>
				<Наименование>Подразделения</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>ПодразделенияОрганизаций                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Подразделения</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="true">
			<Код>DontWorksRules</Код>
			<Наименование>DontWorksRules</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="true">
				<Код>ОтчетОРозничныхПродажах_Общий</Код>
				<Наименование>ОтчетОРозничныхПродажах_Общий</Наименование>
				<Порядок>50</Порядок>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	пТЗ =  СоздатьОбъект("СписокЗначений");    
	пТЗ.ДобавитьЗначение("1"); 
	пТЗ.ДобавитьЗначение("2");
	
	рТЗ =  СоздатьОбъект("СписокЗначений");    
	рТЗ.ДобавитьЗначение("1"); 
	рТЗ.ДобавитьЗначение("2");
	
	КакогоХ = "Ф";
	ТерминалЗапрос ="";
	ТекстДляВозвратов = "UNION SELECT  ProductCheckLine.SP2643 AS &amp;Номенклатура, -ProductCheckLine.SP2644 AS Количество, CASE WHEN LEFT(Cy.DESCR, 3) = 'Руб' THEN -ProductCheckLine.SP2648 ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141) "+ 
							"END Сумма FROM $ДокументСтроки.ТоварныйЧек AS ProductCheckLine INNER JOIN  $Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc LEFT JOIN "+
							"$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 LEFT JOIN $Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640 INNER JOIN _1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc "+
							"WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 UNION "+
							"SELECT  RIGHT(OrderLine.SP4349, 9) AS &amp;Номенклатура, -OrderLine.SP4350 AS Количество, CASE WHEN LEFT(Cy.DESCR, 3) = 'Руб' THEN -OrderLine.SP4354 ELSE -(OrderLine.SP4354*OrderZ.SP141) "+
							"END  Сумма FROM $ДокументСтроки.ЗаказНаряд AS OrderLine INNER JOIN  $Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc LEFT JOIN $Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 "+
							"LEFT JOIN $Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9) LEFT JOIN $Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136 "+
							"LEFT JOIN $Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848 INNER JOIN _1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND "+
							"Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 1 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' AND  ProductName.DESCR NOT LIKE 'Масло моторное'";			

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheckLine.SP2643 AS &amp;Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма  
				|	&amp;ВременнаяТаблица 
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0       
				|
				|UNION
				|
				|SELECT 
				|	RIGHT(OrderLine.SP4349, 9) AS &amp;Номенклатура,   
				|	OrderLine.SP4350 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN OrderLine.SP4354
				|		ELSE (OrderLine.SP4354*OrderZ.SP141) 
				|		END  Сумма 
				|FROM 
				|	$ДокументСтроки.ЗаказНаряд AS OrderLine
				|INNER JOIN 
				|	$Документ.ЗаказНаряд AS OrderZ ON OrderZ.IDDoc = OrderLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.ЕдиницыИзмерения AS UnitName ON UnitName.ID = OrderLine.SP4351 
				|LEFT JOIN 
				|	$Справочник.Номенклатура AS ProductName ON ProductName.ID = RIGHT(OrderLine.SP4349, 9)
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = OrderZ.SP136    
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = OrderZ.SP5848
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = OrderLine.IDDoc 
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  &amp;ЗначениеДляЗамены AND
				|		Jur.Closed &amp; 1 = 1 AND OrderZ.SP5847 = 0 AND UnitName.DESCR NOT LIKE 'работа' AND UnitName.DESCR NOT LIKE 'час' 
				|		AND  ProductName.DESCR NOT LIKE 'Масло моторное'   
				|	
				| &amp;ЗначениеДляВозвратов
				|";
                                            
	ТерминалЗапрос       = ТекстЗапроса;
	КакогоХ              = ТерминалЗапрос+" " + ТекстДляВозвратов;
	
				
	Для Инд=1 По пТЗ.РазмерСписка() Цикл 	
		НомерСтр = пТЗ.ПолучитьЗначение(Инд);	    
		Если НомерСтр = "1" Тогда
			
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ЗначениеДляВозвратов", "");		
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ЗначениеДляЗамены", "AND CashBox.DESCR LIKE 'Терминал%'"); 
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;ВременнаяТаблица", ""); 
			ТерминалЗапрос = СтрЗаменить(ТерминалЗапрос, "&amp;Номенклатура", "[Номенклатура $Справочник.Номенклатура]");
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТерминалЗапрос,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Продажи по терминалу на основании Товарных чеков и ЗаказНарядов.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
		ИначеЕсли НомерСтр = "2" Тогда
			
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ЗначениеДляВозвратов", ТекстДляВозвратов);
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ЗначениеДляЗамены", "AND CashBox.DESCR LIKE 'Касса%'");
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;ВременнаяТаблица", "INTO #TMP");
			КакогоХ = СтрЗаменить(КакогоХ, "&amp;Номенклатура", "Номенклатура");
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания); 
                    		
			RS.ВыполнитьИнструкцию(КакогоХ);
		                                        
		
			ЗапросТемп = "
						|SELECT
						|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
						|	&amp;Знак SUM(#TMP.Количество) AS Количество,
						|	&amp;Знак SUM(#TMP.Сумма) AS Сумма 
						|
						|FROM #TMP
						|WHERE
						|	&amp;ЗначениеКолво
						|GROUP BY
						|	Номенклатура
						|	
						|";   
			       
			Для Индп=1 По рТЗ.РазмерСписка() Цикл   
				
				НомСтр = рТЗ.ПолучитьЗначение(Индп);
				    				
				Если НомСтр = "1" Тогда 
					
					ЗапросТемп_1 = СтрЗаменить(ЗапросТемп, "&amp;ЗначениеКолво", "  (#TMP.Сумма &gt; 0) "); 
					ЗапросТемп_1 = СтрЗаменить(ЗапросТемп_1, "&amp;Знак", "");
					ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп_1,,1); 
					
					Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
						
						ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
						ИсходящиеДанные.Установить("Дата", пДатаНачала);
						ИсходящиеДанные.Установить("Комментарий", "#Продажи Частным лицам на основании Товарных чеков и ЗаказНарядов.");
						ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
						//ИсходящиеДанные.Установить("Оплата", Оплата);
						
						ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
						
					КонецЕсли;
					
				ИначеЕсли НомСтр = "2" Тогда
					
					ЗапросТемп_2 = СтрЗаменить(ЗапросТемп, "&amp;ЗначениеКолво", " (#TMP.Сумма &lt; 0) ");
					ЗапросТемп_2 = СтрЗаменить(ЗапросТемп_2, "&amp;Знак", "-");
					ВозвратыЧЛ   = RS.ВыполнитьИнструкцию(ЗапросТемп_2,,1); 
					
					Если ВозвратыЧЛ.КоличествоСтрок()&gt;0 Тогда
						
						ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
						ИсходящиеДанные.Установить("Дата", пДатаНачала);
						ИсходящиеДанные.Установить("Комментарий", "#Возвраты наличных денег по Товарным чекам и ЗаказНарядам.");
						ИсходящиеДанные.Установить("Товары", ВозвратыЧЛ);
						//ИсходящиеДанные.Установить("Оплата", Оплата);
						
						ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
						
					КонецЕсли;

				КонецЕсли;
				
			КонецЦикла;
			           					     			
		КонецЕсли;
		
	КонецЦикла;
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>УСН_ТоварныйЧек</Код>
				<Наименование>УСН_ТоварныйЧек</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>УСН_РозничнаяПродажаДо20170720                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>УСН_ВозвратОтПокупателядоя2007</Код>
				<Наименование>УСН_ВозвратОтПокупателяДо20170720</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>УСН_ВозвратОтПокупателяДо20170720                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныйЧекРеализацияВалюта</Код>
				<Наименование>ТоварныйЧекРеализацияВалюта</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>ТоварныйЧекРеализацияВалюта                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>КассовыйЧекРеализацияВалюта</Код>
				<Наименование>КассовыйЧекРеализацияВалюта</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>КассовыйЧекРеализацияВалюта                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>КассовыйЧекВозвратВалюта</Код>
				<Наименование>КассовыйЧекВозвратВалюта</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>КассовыйЧекВозвратВалюта                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныеЧекиНаличныеРубли</Код>
				<Наименование>ТоварныеЧекиНаличныеРубли</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>ПродажиЧастноеЛицо                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	            	
	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheckLine.SP2643 AS Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	ProductCheckLine.SP2643 AS Номенклатура, 
				|	-ProductCheckLine.SP2644 AS Количество,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP2648 
				|		ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
				|SELECT
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	SUM(#TMP.Сумма) AS Сумма 
				|
				|FROM #TMP
				|WHERE
				|	#TMP.Сумма &gt; 0 	
				|GROUP BY
				|	Номенклатура, Валюта
				|	
				|";   
	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Реализация Частное лицо. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ПродажиЧастноеЛицо");
		
		
		пДатаНачала = п1ДатаОкончания;
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныеЧекиТерминалРубли</Код>
				<Наименование>ТоварныеЧекиТерминалРубли</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>ОтчетОРозничныхПродажах_Общий                     </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекстЗапроса = 	"SELECT   
				|	ProductCheck.IDDoc AS  [Doc $Документ.ТоварныйЧек],
				|	ProductCheckLine.SP2643 AS [Номенклатура $Справочник.Номенклатура],
				|	ProductCheckLine.SP2644 AS Количество,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма,
				|	ProductCheck.SP3109 AS Возврат, 
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
				|			THEN 'Наличные'
				|		ELSE 'Терминал' 
				|		END  ТипКассы     	
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR LIKE '%Руб%'						
				|";  
	
			RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
			RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
							
			Товары 	 = RS.ВыполнитьИнструкцию(ТекстЗапроса,,1);
						
			Товары.Свернуть("Номенклатура", "Количество, Сумма");
						
			Оплата = СоздатьОбъект("ТаблицаЗначений");
			Оплата.НоваяКолонка("СуммаОплаты");
			Оплата.НоваяСтрока();
			Оплата.СуммаОплаты = Товары.Итог("Сумма");
						
			Если Товары.КоличествоСтрок()&gt;0 Тогда
				
				ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
				ИсходящиеДанные.Установить("Дата", пДатаНачала);
				ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Отчет о розничных продажах. Расчет безналичный.");
				ИсходящиеДанные.Установить("Товары", Товары);
				ИсходящиеДанные.Установить("Оплата", Оплата);
				
				ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ОтчетОРозничныхПродажах_Общий");
				
			КонецЕсли;
			
			
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ТоварныйЧекВозвратВалюта</Код>
				<Наименование>ТоварныйЧекВозвратВалюта</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>ТоварныйЧекВозвратВалюта                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВозвратТоварныеЧекиНаличные</Код>
				<Наименование>ВозвратТоварныеЧекиНаличныеРубли</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);
	            	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	ТекстЗапроса = "
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	ProductCheckLine.SP2643 AS Номенклатура,
				|	ProductCheckLine.SP2644 AS Количество,
				//|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
				|			THEN ProductCheckLine.SP2648
				|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
				|		END  Сумма 
				|
				|INTO #TMP   
				|
				|FROM  
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine. SP2643
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN 
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
				|WHERE
				|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' AND
				|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 0 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'      
				|
				|UNION 
				|
				|SELECT  
				|	ProductCheck.IDDoc AS Doc,
				|	ProductCheckLine.SP2643 AS Номенклатура, 
				|	-ProductCheckLine.SP2644 AS Количество,
				//|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
				|	Cy.DESCR AS Валюта,
				|	CASE 
				|		WHEN LEFT(Cy.DESCR, 3) = 'Руб' 
				|			THEN -ProductCheckLine.SP2648 
				|		ELSE -(ProductCheckLine.SP2648*ProductCheck.SP141)  
				|		END Сумма 
				|FROM
				|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine 
				|INNER JOIN 
				|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc 
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine. SP2643
				|LEFT JOIN 
				|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136 
				|LEFT JOIN 
				|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
				|INNER JOIN
				|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc 
				|WHERE Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца  AND CashBox.DESCR LIKE 'Касса%' 
				|			AND Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0 AND Cy.DESCR  LIKE '%Руб%'	
				|
				|";
	
	                    	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	RS.ВыполнитьИнструкцию(ТекстЗапроса);

	ЗапросТемп = "
				|SELECT  
				|	#TMP.Doc AS [Doc $Документ.ТоварныйЧек],
				|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
				|	SUM(#TMP.Количество) AS Количество,
				|	(Movies.SP998 * &amp;КурсУЕ)/SUM(#TMP.Количество) AS Себестоимость,
				|	SUM(#TMP.Сумма) AS Сумма 
				//|INTO #TMP1				 
				|FROM #TMP
				|LEFT JOIN 
				|	$Регистр.Склад AS Movies ON Movies.IDDOC = #TMP.Doc AND Movies.SP456 = #TMP.Номенклатура
				|WHERE
				|	#TMP.Сумма &lt; 0 	
				|GROUP BY
				|	Doc, Номенклатура, Movies.SP998
				|	
				|"; 
	ЗапросТемп = СтрЗаменить(ЗапросТемп, "&amp;КурсУЕ", ТекущийКурс);            	
	ПродажаЧЛ  = RS.ВыполнитьИнструкцию(ЗапросТемп,,1); 
	ПродажаЧЛ.Свернуть("Doc, Номенклатура", "Себестоимость, Сумма, Количество");
	
	ПродажаЧЛ.ВыбратьСтроки();
	Пока ПродажаЧЛ.ПолучитьСтроку() = 1 Цикл
		ПродажаЧЛ.Сумма = -ПродажаЧЛ.Сумма;
		ПродажаЧЛ.Количество = -ПродажаЧЛ.Количество;
		ПродажаЧЛ.Себестоимость = -ПродажаЧЛ.Себестоимость;
	КонецЦикла;

	
	Если ПродажаЧЛ.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарные чеки =&gt; Возврат товаров от покупателя. Расчет Наличные.");
		ИсходящиеДанные.Установить("Товары", ПродажаЧЛ);
		//ИсходящиеДанные.Установить("Оплата", Оплата);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
		
	КонецЕсли;
	
	RS.Выполнить("DROP TABLE #TMP");
	//RS.Выполнить("DROP TABLE #TempTable");
	
	пДатаНачала = п1ДатаОкончания;

		
	КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ЕНВД_Продажи</Код>
				<Наименование>ЕНВД_Продажи</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ЕНВД_Продажи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.КассовыйЧек</ОбъектВыборки>
			</Правило>
			<Правило Отключить="true">
				<Код>ВозвратТоваровЕНВД_Терминал</Код>
				<Наименование>ВозвратТоваровЕНВД_Терминал</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровЕНВД                                </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ПередОбработкойПравила>
пДатаНачала    = ДатаНачала;
пДатаОкончания = ДатаОкончания;

Пока (пДатаОкончания &gt;= пДатаНачала) Цикл
	
	п1ДатаНачала    = пДатаНачала;
	п1ДатаОкончания = пДатаНачала+1;
	
	RS = СоздатьОбъект("ODBCRecordset");
	RS.УстБД1С(); 
	
	ТекущийКурс = глВалютаУпрУчета.Курс.Получить(п1ДатаНачала);

	RS.Выполнить("DROP TABLE #TMP");
	
	ТекстЗапроса = 	"SELECT   
			|	ProductCheck.IDDoc AS Doc,
			|	ProductCheckLine.SP2643 AS Номенклатура,
			|	ProductCheckLine.SP2644 AS Количество,
			|	((Movies.SP998*&amp;КурсУЕ)/ProductCheckLine.SP2644) AS Себестоимость,
			|	CASE
			|		WHEN LEFT(Cy.DESCR, 3) = 'Руб'
			|			THEN ProductCheckLine.SP2648
			|		ELSE (ProductCheckLine.SP2648*ProductCheck.SP141) 
			|		END  Сумма,
			|	ProductCheck.SP3109 AS Возврат, 
			|	CASE
			|		WHEN LEFT(CashBox.DESCR, 6) = 'Касса'
			|			THEN 'Наличные'
			|		ELSE 'Терминал' 
			|		END  ТипКассы
			|
			|INTO #TMP
			|
			|FROM  
			|	$ДокументСтроки.ТоварныйЧек AS ProductCheckLine
			|INNER JOIN 
			|	$Документ.ТоварныйЧек AS ProductCheck ON ProductCheck.IDDoc = ProductCheckLine.IDDoc
			|LEFT JOIN 
			|	$Регистр.Склад AS Movies ON Movies.IDDOC = ProductCheck.IDDoc AND Movies.SP456 = ProductCheckLine.SP2643
			|LEFT JOIN 
			|	$Справочник.Валюты AS Cy ON Cy.ID = ProductCheck.SP136
			|LEFT JOIN 
			|	$Справочник.ККМ AS CashBox ON CashBox.ID = ProductCheck.SP2640
			|INNER JOIN 
			|	_1SJOURN AS Jur ON Jur.IDDoc = ProductCheckLine.IDDoc
			|WHERE
			|   Jur.Date_Time_IDDoc BETWEEN :ДатаНачала AND :ДатаКонца AND CashBox.DESCR LIKE 'Терминал%' AND
			|		Jur.Closed &amp; 1 = 1 AND ProductCheck.SP3109 = 1 AND ProductCheck.SP7094 = 0						
			|
			|"; 
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;КурсУЕ", ТекущийКурс);	
	RS.УстановитьТекстовыйПараметр("ДатаНачала", п1ДатаНачала);
	RS.УстановитьТекстовыйПараметр("ДатаКонца", п1ДатаОкончания);
	
	RS.ВыполнитьИнструкцию(ТекстЗапроса);
	
	ЗапросТемп = "
			|SELECT  
			|	#TMP.Номенклатура AS [Номенклатура $Справочник.Номенклатура],  
			|	#TMP.Количество AS Количество,
			|	SUM(#TMP.Себестоимость) AS Себестоимость,
			|	#TMP.Сумма AS Сумма 
			|
			|FROM #TMP
			|GROUP BY
			|	Номенклатура, Количество, Сумма 
			|	
			|";
	
	Товары 	 = RS.ВыполнитьИнструкцию(ЗапросТемп,,1);
	
	//Товары.Свернуть("Номенклатура", "Количество, Сумма");
	
	Если Товары.КоличествоСтрок()&gt;0 Тогда
		
		ИсходящиеДанные = СоздатьОбъект("СписокЗначений");
		ИсходящиеДанные.Установить("Дата", пДатаНачала);
		ИсходящиеДанные.Установить("Комментарий", "#Товарный Чек =&gt; Возврат товаров от покупателя. Расчет безналичный.");
		ИсходящиеДанные.Установить("Товары", Товары);
		
		ВыгрузитьПоПравилу(,, ИсходящиеДанные,, "ВозвратТоваровЕНВД");
		
	КонецЕсли;
	
	
	пДатаНачала = п1ДатаОкончания;
	
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
			<Правило Отключить="true">
				<Код>ЕНВД_Продажи_нет</Код>
				<Наименование>ЕНВД_Продажи_неткасс</Наименование>
				<Порядок>750</Порядок>
				<КодПравилаКонвертации>ЕНВД_Продажи_неткасс                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ТоварныйЧек</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы/>
	<Запросы/>
</ПравилаОбмена>
